{
  "onboarding": {
    "start_step": "welcome",
    "steps": {
      "welcome": {
        "prompt": "ğŸŒŸ *Welcome to your Personal Cosmic Coach!*\n\nI'm here to guide you through your cosmic journey with personalized astrology insights.\n\nğŸ“… *What's your birth date?*\n\nğŸ’¡ *Accepted formats:*\nâ€¢ DDMMYY (e.g., 150690 for June 15, 1990)\nâ€¢ DDMMYYYY (e.g., 15061990)\n\n*Why birth date?* Your birth chart reveals your unique cosmic blueprint!",
        "validation": "date",
        "next_step": "ask_birth_time",
        "data_key": "birthDate",
        "error_message": "Please provide date in DDMMYY (150690) or DDMMYYYY (15061990) format only"
      },
      "ask_birth_time": {
        "prompt": "Great! ğŸ“… Your birth date reveals your *Sun Sign* and core personality.\n\nFor more accurate insights, what's your birth time? (HHMM or HH:MM, 24-hour format)\n\n*Examples:* 1430 or 14:30\n\nğŸ’¡ *Why birth time?* It determines your *Rising Sign* (how others see you) and *Moon Sign* (your emotional nature).\n\nOr reply 'skip' if you don't know.",
        "validation": "time_or_skip",
        "next_step": "ask_birth_place",
        "data_key": "birthTime",
        "optional": true,
        "error_message": "Please provide time in HHMM (1430) or HH:MM (14:30) format, or 'skip'"
      },
      "ask_birth_place": {
        "prompt": "Excellent! ğŸŒ Birth place determines your *local planetary positions* at birth.\n\nPlease provide your birth city and country:\n\n*Example:* Mumbai, India\n\nğŸ’¡ *Why birth place?* Different locations have unique astrological influences due to latitude/longitude.",
        "validation": "text",
        "next_step": "ask_language",
        "data_key": "birthPlace",
        "error_message": "Please provide your birth place (City, Country)"
      },
      "ask_language": {
        "interactive": {
          "type": "button_reply",
          "body": "ğŸŒ *Choose Your Preferred Language*\n\nWhat language would you prefer for your personalized readings?",
          "buttons": [
            {
              "id": "lang_english",
              "title": "English ğŸ‡ºğŸ‡¸"
            },
            {
              "id": "lang_hindi",
              "title": "à¤¹à¤¿à¤‚à¤¦à¥€ ğŸ‡®ğŸ‡³"
            }
          ],
           "button_mappings": {
             "lang_english": "en",
             "lang_hindi": "hi"
           }
        },
        "fallback_prompt": "What language would you prefer? Reply with 'english' or 'hindi' as default.",
        "validation": "language_choice",
        "next_step": "confirm_details",
        "data_key": "preferredLanguage",
        "optional": true,
        "error_message": "Please choose a language or reply 'english'"
      },
       "confirm_details": {
         "interactive": {
           "type": "button_reply",
           "body": "Perfect! âœ¨ Here's your cosmic profile:\n\nğŸ“… *Birth Date:* {birthDate}\nğŸ• *Birth Time:* {birthTime}\nğŸŒ *Birth Place:* {birthPlace}\nğŸŒ *Language:* {preferredLanguage}\n\nIs this information correct?",
           "buttons": [
             {
               "id": "confirm_yes",
               "title": "âœ… Yes, Continue"
             },
             {
               "id": "confirm_no",
               "title": "ğŸ”„ No, Update Info"
             }
           ],
           "button_mappings": {
             "confirm_yes": "yes",
             "confirm_no": "no"
           }
         },
         "fallback_prompt": "Is this information correct? Reply 'yes' to get your first reading or 'no' to update.",
         "validation": "none",
         "next_step": "complete_onboarding",
         "action": "complete_profile",
         "error_message": "Please reply 'yes' or 'no'"
       },
       "complete_onboarding": {
         "prompt": "ğŸ‰ *Welcome to your cosmic journey!*\n\nYour profile is complete! Here's your *personalized birth chart summary*:\n\nâ˜€ï¸ *Sun Sign:* {sunSign}\nğŸŒ™ *Moon Sign:* {moonSign}\nâ¬†ï¸ *Rising Sign:* {risingSign}\n\nğŸ”¥ *Your Top 3 Life Patterns:*\n1. {pattern1}\n2. {pattern2}\n3. {pattern3}\n\nâ­ *2,847 users* with your Sun sign found these insights highly accurate!\n\nğŸ’« *Free 3-Day Transit Preview:*\n{todayTransit}\n{tomorrowTransit}\n{day3Transit}\n\nWhat would you like to explore next?\n\nğŸ”® Daily Horoscope\nğŸ“Š Full Birth Chart\nğŸ’• Compatibility Check\n\nJust reply with your choice!",
         "validation": "none",
         "next_step": null
       }
    }
  },
  "subscription": {
    "start_step": "show_plans",
    "steps": {
      "show_plans": {
        "interactive": {
          "type": "button_reply",
          "body": "ğŸ’³ *Choose Your Cosmic Plan*\n\nâ­ *Essential* - â‚¹230/month\nâ€¢ Daily personalized horoscope\nâ€¢ Weekly video predictions\nâ€¢ Basic compatibility (5 people)\n\nğŸ’ *Premium* - â‚¹299/month\nâ€¢ Unlimited AI questions\nâ€¢ Priority astrologer access\nâ€¢ Unlimited compatibility",
          "buttons": [
            {
              "id": "plan_essential",
              "title": "â­ Essential â‚¹230"
            },
            {
              "id": "plan_premium",
              "title": "ğŸ’ Premium â‚¹299"
            }
          ],
          "button_mappings": {
            "plan_essential": "essential",
            "plan_premium": "premium"
          }
        },
        "fallback_prompt": "Which plan interests you? Reply 'essential' or 'premium'",
        "validation": "plan_choice",
        "next_step": "confirm_subscription",
        "data_key": "selectedPlan",
        "error_message": "Please reply 'essential' or 'premium'"
      },
      "confirm_subscription": {
        "interactive": {
          "type": "button_reply",
          "body": "Great choice! ğŸ’«\n\nYou've selected: *{selectedPlan}*\n\nReady to subscribe and proceed with payment?",
          "buttons": [
            {
              "id": "subscribe_yes",
              "title": "ğŸ’³ Subscribe Now"
            },
            {
              "id": "subscribe_no",
              "title": "âŒ Cancel"
            }
          ],
          "button_mappings": {
            "subscribe_yes": "yes",
            "subscribe_no": "no"
          }
        },
        "fallback_prompt": "Ready to subscribe? Reply 'yes' to proceed with payment.",
        "validation": "yes_no",
        "next_step": "process_payment",
        "error_message": "Please reply 'yes' to continue or 'no' to cancel"
      },
      "process_payment": {
        "prompt": "ğŸ”„ Processing your subscription...\n\nPlease complete the payment when prompted. You'll receive confirmation once activated.",
        "validation": "none",
        "next_step": null,
        "action": "process_subscription"
      }
    }
  },
  "compatibility": {
    "start_step": "ask_partner_date",
    "steps": {
      "ask_partner_date": {
        "prompt": "ğŸ’• *Compatibility Analysis*\n\nI'll compare your birth chart with someone else's for relationship insights.\n\nğŸ“… *What's their birth date?*\n\nğŸ’¡ *Accepted formats:*\nâ€¢ DDMMYY (e.g., 150690 for June 15, 1990)\nâ€¢ DDMMYYYY (e.g., 15061990)",
        "validation": "date",
        "next_step": "generate_compatibility",
        "data_key": "partnerBirthDate",
        "error_message": "Please provide date in DDMMYY (150690) or DDMMYYYY (15061990) format only"
      },
      "generate_compatibility": {
        "interactive": {
          "type": "button_reply",
          "body": "ğŸ”„ Analyzing compatibility...\n\n{compatibilityResult}",
          "buttons": [
            {
              "id": "compat_again",
              "title": "ğŸ”„ Check Another"
            },
            {
              "id": "compat_menu",
              "title": "ğŸ  Main Menu"
            }
          ],
          "button_mappings": {
            "compat_again": "yes",
            "compat_menu": "menu"
          }
        },
        "fallback_prompt": "Would you like another compatibility check? Reply 'yes' or 'menu' for main options.",
        "validation": "yes_no_or_menu",
        "next_step": "ask_partner_date",
        "error_message": "Please reply 'yes', 'no', or 'menu'"
      }
    }
  },
  "numerology_flow": {
    "start_step": "ask_full_name",
    "steps": {
      "ask_full_name": {
        "prompt": "To generate your numerology report, please tell me your full name (first and last name).",
        "validation": "text",
        "data_key": "fullName",
        "next_step": "ask_birth_date_numerology"
      },
      "ask_birth_date_numerology": {
        "prompt": "And what is your birth date? (DDMMYY or DDMMYYYY format)\n\nğŸ’¡ *Examples:*\nâ€¢ 150690 (June 15, 1990)\nâ€¢ 15061990 (June 15, 1990)",
        "validation": "date",
        "data_key": "birthDate",
        "action": "generate_numerology_report"
      }
    }
  },
  "daily_horoscope": {
    "start_step": "show_horoscope",
    "steps": {
      "show_horoscope": {
        "interactive": {
          "type": "button_reply",
          "body": "This should not be sent",
          "buttons": [
            {
              "id": "horoscope_again",
              "title": "ğŸ”„ Another Reading"
            },
            {
              "id": "horoscope_menu",
              "title": "ğŸ  Main Menu"
            }
          ],
          "button_mappings": {
            "horoscope_again": "again",
            "horoscope_menu": "menu"
          }
        },
        "fallback_prompt": "What would you like to explore next? Reply 'again' for another reading or 'menu' for main options.",
        "validation": "again_or_menu",
        "next_step": "handle_horoscope_choice",
        "action": "show_daily_horoscope"
      },
      "handle_horoscope_choice": {
        "prompt": "Redirecting...",
        "validation": "none",
        "next_step": null,
        "data_key": "choice",
        "action": "handle_horoscope_navigation"
      }
    }
  },
  "subscription_plans": {
    "start_step": "show_plans",
    "steps": {
      "show_plans": {
        "interactive": {
          "type": "button_reply",
          "body": "ğŸ’³ *Choose Your Cosmic Plan*\n\nâ­ *Essential* - â‚¹230/month\nâ€¢ Daily personalized horoscope\nâ€¢ Weekly video predictions\nâ€¢ Basic compatibility (5 people)\n\nğŸ’ *Premium* - â‚¹299/month\nâ€¢ Unlimited AI questions\nâ€¢ Priority astrologer access\nâ€¢ Unlimited compatibility\n\nğŸ”® *VIP* - â‚¹499/month\nâ€¢ All Premium features\nâ€¢ Personal astrologer calls\nâ€¢ Custom rituals & recommendations",
          "buttons": [
            {
              "id": "plan_essential",
              "title": "â­ Essential â‚¹230"
            },
            {
              "id": "plan_premium",
              "title": "ğŸ’ Premium â‚¹299"
            },
            {
              "id": "plan_vip",
              "title": "ğŸ”® VIP â‚¹499"
            }
          ],
          "button_mappings": {
            "plan_essential": "essential",
            "plan_premium": "premium",
            "plan_vip": "vip"
          }
        },
        "fallback_prompt": "Which plan interests you? Reply 'essential', 'premium', or 'vip'",
        "validation": "plan_choice",
        "next_step": "confirm_subscription",
        "data_key": "selectedPlan",
        "error_message": "Please reply 'essential', 'premium', or 'vip'"
      },
      "confirm_subscription": {
        "interactive": {
          "type": "button_reply",
          "body": "Great choice! ğŸ’«\n\nYou've selected: *{selectedPlan}*\n\nReady to subscribe and proceed with payment?",
          "buttons": [
            {
              "id": "subscribe_yes",
              "title": "ğŸ’³ Subscribe Now"
            },
            {
              "id": "subscribe_no",
              "title": "âŒ Cancel"
            }
          ],
          "button_mappings": {
            "subscribe_yes": "yes",
            "subscribe_no": "no"
          }
        },
        "fallback_prompt": "Ready to subscribe? Reply 'yes' to proceed with payment.",
        "validation": "yes_no",
        "next_step": "process_payment",
        "error_message": "Please reply 'yes' to continue or 'no' to cancel"
      },
      "process_payment": {
        "prompt": "ğŸ”„ Processing your subscription...\n\nPlease complete the payment when prompted. You'll receive confirmation once activated.",
        "validation": "none",
        "next_step": null,
        "action": "process_subscription"
      }
    }
  },
  "nadi_flow": {
    "start_step": "nadi_analysis",
    "steps": {
      "nadi_analysis": {
        "interactive": {
          "type": "button_reply",
          "body": "ğŸ“œ *Nadi Astrology Analysis*\n\nBased on ancient Indian Nadi texts, your cosmic blueprint reveals:\n\nğŸ”® *Primary Nadi:* {nadiResult}\n\nThis ancient system suggests your life path and karmic influences.\n\nWould you like a detailed Nadi reading?",
          "buttons": [
            {
              "id": "nadi_detailed",
              "title": "ğŸ“– Detailed Reading"
            },
            {
              "id": "nadi_menu",
              "title": "ğŸ  Main Menu"
            }
          ],
          "button_mappings": {
            "nadi_detailed": "detailed",
            "nadi_menu": "menu"
          }
        },
        "fallback_prompt": "Would you like a detailed Nadi reading? Reply 'detailed' or 'menu' for main options.",
        "validation": "detailed_or_menu",
        "next_step": "detailed_reading",
        "error_message": "Please reply 'detailed' or 'menu'"
      },
      "detailed_reading": {
        "prompt": "ğŸ“œ *Detailed Nadi Analysis*\n\nYour Nadi astrology reveals deep insights about your soul's journey:\n\nğŸ”¸ *Karmic Patterns:* Ancient influences shaping your current life\nğŸ”¸ *Life Purpose:* Your soul's mission in this incarnation\nğŸ”¸ *Spiritual Growth:* Areas for consciousness expansion\n\nThis is a profound system passed down through generations of Indian sages.\n\nWhat aspect would you like to explore further?",
        "validation": "none",
        "next_step": null
      }
    }
  },
  "chinese_flow": {
    "start_step": "bazi_analysis",
    "steps": {
      "bazi_analysis": {
        "interactive": {
          "type": "button_reply",
          "body": "ğŸ‰ *Chinese BaZi (Four Pillars) Analysis*\n\nYour Four Pillars reveal your destiny code:\n\nğŸ¯ *Year Pillar:* {yearPillar}\nğŸ¯ *Month Pillar:* {monthPillar}\nğŸ¯ *Day Pillar:* {dayPillar}\nğŸ¯ *Hour Pillar:* {hourPillar}\n\nThis ancient Chinese system predicts life patterns and optimal timing.\n\nWould you like a detailed BaZi interpretation?",
          "buttons": [
            {
              "id": "bazi_detailed",
              "title": "ğŸ“– Detailed Analysis"
            },
            {
              "id": "bazi_menu",
              "title": "ğŸ  Main Menu"
            }
          ],
          "button_mappings": {
            "bazi_detailed": "detailed",
            "bazi_menu": "menu"
          }
        },
        "fallback_prompt": "Would you like a detailed BaZi analysis? Reply 'detailed' or 'menu' for main options.",
        "validation": "detailed_or_menu",
        "next_step": "detailed_analysis",
        "error_message": "Please reply 'detailed' or 'menu'"
      },
      "detailed_analysis": {
        "prompt": "ğŸ‰ *Detailed BaZi Analysis*\n\nYour Four Pillars indicate:\n\nğŸ”¸ *Destiny:* Life path and major influences\nğŸ”¸ *Wealth:* Financial fortune and opportunities\nğŸ”¸ *Health:* Physical well-being patterns\nğŸ”¸ *Relationships:* Partnership compatibility\nğŸ”¸ *Career:* Professional success indicators\n\nThis 3000-year-old system provides precise life predictions.\n\nWhat area interests you most?",
        "validation": "none",
        "next_step": null
      }
    }
  }
}
