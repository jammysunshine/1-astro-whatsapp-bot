<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="jest tests" tests="711" failures="338" errors="0" time="426.358">
  <testsuite name="Server Setup" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:07:24" time="8.213" tests="4">
    <testcase classname="Server Setup GET /health should return health status with correct structure" name="Server Setup GET /health should return health status with correct structure" time="0.061">
    </testcase>
    <testcase classname="Server Setup GET / should return welcome message with version" name="Server Setup GET / should return welcome message with version" time="0.015">
    </testcase>
    <testcase classname="Server Setup POST /webhook should return webhook ready message" name="Server Setup POST /webhook should return webhook ready message" time="0.019">
    </testcase>
    <testcase classname="Server Setup 404 Handler should return 404 for non-existent routes" name="Server Setup 404 Handler should return 404 for non-existent routes" time="0.022">
    </testcase>
  </testsuite>
  <testsuite name="Comprehensive Performance Test Suite" errors="0" failures="1" skipped="0" timestamp="2025-10-28T17:07:32" time="21.298" tests="27">
    <testcase classname="Comprehensive Performance Test Suite Response Time Performance Testing should maintain sub-2-second response times for health check endpoint as mandated by gemini.md" name="Comprehensive Performance Test Suite Response Time Performance Testing should maintain sub-2-second response times for health check endpoint as mandated by gemini.md" time="0.037">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Response Time Performance Testing should maintain sub-2-second response times for webhook endpoint as mandated by gemini.md" name="Comprehensive Performance Test Suite Response Time Performance Testing should maintain sub-2-second response times for webhook endpoint as mandated by gemini.md" time="0.046">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Response Time Performance Testing should maintain sub-2-second response times for all critical endpoints as mandated by gemini.md" name="Comprehensive Performance Test Suite Response Time Performance Testing should maintain sub-2-second response times for all critical endpoints as mandated by gemini.md" time="0.035">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Throughput Performance Testing should handle minimum 100 requests per second throughput as mandated by gemini.md" name="Comprehensive Performance Test Suite Throughput Performance Testing should handle minimum 100 requests per second throughput as mandated by gemini.md" time="1.581">
      <failure>Error: expect(received).toBeGreaterThan(expected)

Expected: &gt; 100
Received:   63.400167625985574
    at Object.toBeGreaterThan (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/performance/comprehensive-performance-test-suite.test.js:160:26)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Throughput Performance Testing should maintain consistent throughput under sustained load as mandated by gemini.md" name="Comprehensive Performance Test Suite Throughput Performance Testing should maintain consistent throughput under sustained load as mandated by gemini.md" time="14.482">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Resource Usage Performance Testing should maintain memory usage under 512MB as mandated by gemini.md" name="Comprehensive Performance Test Suite Resource Usage Performance Testing should maintain memory usage under 512MB as mandated by gemini.md" time="0.52">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Resource Usage Performance Testing should maintain CPU usage under 80% as mandated by gemini.md" name="Comprehensive Performance Test Suite Resource Usage Performance Testing should maintain CPU usage under 80% as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Caching Performance Testing should implement caching with hit rate tracking as mandated by gemini.md" name="Comprehensive Performance Test Suite Caching Performance Testing should implement caching with hit rate tracking as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Caching Performance Testing should implement Redis caching with proper configuration as mandated by gemini.md" name="Comprehensive Performance Test Suite Caching Performance Testing should implement Redis caching with proper configuration as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Database Performance Testing should implement database optimization with query tuning as mandated by gemini.md" name="Comprehensive Performance Test Suite Database Performance Testing should implement database optimization with query tuning as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Database Performance Testing should implement connection pooling with resource utilization optimization as mandated by gemini.md" name="Comprehensive Performance Test Suite Database Performance Testing should implement connection pooling with resource utilization optimization as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Asynchronous Processing Performance Testing should implement asynchronous processing with queuing as mandated by gemini.md" name="Comprehensive Performance Test Suite Asynchronous Processing Performance Testing should implement asynchronous processing with queuing as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Asynchronous Processing Performance Testing should implement background jobs with improved throughput as mandated by gemini.md" name="Comprehensive Performance Test Suite Asynchronous Processing Performance Testing should implement background jobs with improved throughput as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Code Profiling and Optimization Testing should implement code profiling with bottleneck identification as mandated by gemini.md" name="Comprehensive Performance Test Suite Code Profiling and Optimization Testing should implement code profiling with bottleneck identification as mandated by gemini.md" time="0.003">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Code Profiling and Optimization Testing should implement memory management with leak prevention as mandated by gemini.md" name="Comprehensive Performance Test Suite Code Profiling and Optimization Testing should implement memory management with leak prevention as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite API Efficiency Performance Testing should implement API efficiency with round trip reduction as mandated by gemini.md" name="Comprehensive Performance Test Suite API Efficiency Performance Testing should implement API efficiency with round trip reduction as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite API Efficiency Performance Testing should implement compression with bandwidth reduction as mandated by gemini.md" name="Comprehensive Performance Test Suite API Efficiency Performance Testing should implement compression with bandwidth reduction as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Lazy Loading Performance Testing should implement lazy loading with faster load times as mandated by gemini.md" name="Comprehensive Performance Test Suite Lazy Loading Performance Testing should implement lazy loading with faster load times as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Lazy Loading Performance Testing should implement resource optimization with faster load times as mandated by gemini.md" name="Comprehensive Performance Test Suite Lazy Loading Performance Testing should implement resource optimization with faster load times as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Connection Pooling Performance Testing should implement connection pooling for external APIs with reduced connection overhead as mandated by gemini.md" name="Comprehensive Performance Test Suite Connection Pooling Performance Testing should implement connection pooling for external APIs with reduced connection overhead as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Connection Pooling Performance Testing should implement CDN usage for static assets with improved delivery performance as mandated by gemini.md" name="Comprehensive Performance Test Suite Connection Pooling Performance Testing should implement CDN usage for static assets with improved delivery performance as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Concurrency Performance Testing should implement concurrency management with optimal resource utilization as mandated by gemini.md" name="Comprehensive Performance Test Suite Concurrency Performance Testing should implement concurrency management with optimal resource utilization as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Concurrency Performance Testing should implement threading with optimal resource utilization as mandated by gemini.md" name="Comprehensive Performance Test Suite Concurrency Performance Testing should implement threading with optimal resource utilization as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Performance Budget Testing should implement performance budget with automated compliance checking as mandated by gemini.md" name="Comprehensive Performance Test Suite Performance Budget Testing should implement performance budget with automated compliance checking as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Performance Budget Testing should implement performance monitoring with real-time dashboards as mandated by gemini.md" name="Comprehensive Performance Test Suite Performance Budget Testing should implement performance monitoring with real-time dashboards as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Performance Optimization Testing should implement performance optimization with monitoring and benchmarking as mandated by gemini.md" name="Comprehensive Performance Test Suite Performance Optimization Testing should implement performance optimization with monitoring and benchmarking as mandated by gemini.md" time="0.002">
    </testcase>
    <testcase classname="Comprehensive Performance Test Suite Performance Optimization Testing should implement monitoring and benchmarking infrastructure as mandated by gemini.md" name="Comprehensive Performance Test Suite Performance Optimization Testing should implement monitoring and benchmarking infrastructure as mandated by gemini.md" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="REAL WhatsApp Bot End-to-End Flow Tests" errors="0" failures="3" skipped="0" timestamp="2025-10-28T17:07:54" time="15.544" tests="5">
    <testcase classname="REAL WhatsApp Bot End-to-End Flow Tests Complete User Onboarding Flow should complete full onboarding and generate real astrology reading" name="REAL WhatsApp Bot End-to-End Flow Tests Complete User Onboarding Flow should complete full onboarding and generate real astrology reading" time="7.291">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: true
Received: false
    at Object.toBe (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/real-whatsapp-flow.test.js:224:36)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="REAL WhatsApp Bot End-to-End Flow Tests Existing User Astrology Requests should generate real daily horoscope for existing user" name="REAL WhatsApp Bot End-to-End Flow Tests Existing User Astrology Requests should generate real daily horoscope for existing user" time="4.63">
      <failure>Error: expect(received).toContain(expected) // indexOf

Expected substring: &quot;🔮 *Your Daily Horoscope*&quot;
Received string:    &quot;[object Promise]·
[object Promise]·
[object Promise]
[object Promise]
[object Promise]
[object Promise]
[object Promise]
[object Promise][object Promise]&quot;
    at Object.toContain (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/real-whatsapp-flow.test.js:309:37)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="REAL WhatsApp Bot End-to-End Flow Tests Existing User Astrology Requests should handle compatibility request with real calculations" name="REAL WhatsApp Bot End-to-End Flow Tests Existing User Astrology Requests should handle compatibility request with real calculations" time="0.077">
      <failure>Error: expect(received).toContain(expected) // indexOf

Expected substring: &quot;💕 *Compatibility Analysis*&quot;
Received string:    &quot;messages.compatibility.error&quot;
    at Object.toContain (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/real-whatsapp-flow.test.js:349:27)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="REAL WhatsApp Bot End-to-End Flow Tests Error Handling and Edge Cases should handle invalid webhook payload gracefully" name="REAL WhatsApp Bot End-to-End Flow Tests Error Handling and Edge Cases should handle invalid webhook payload gracefully" time="0.02">
    </testcase>
    <testcase classname="REAL WhatsApp Bot End-to-End Flow Tests Error Handling and Edge Cases should handle malformed messages gracefully" name="REAL WhatsApp Bot End-to-End Flow Tests Error Handling and Edge Cases should handle malformed messages gracefully" time="0.048">
    </testcase>
  </testsuite>
  <testsuite name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE" errors="0" failures="4" skipped="0" timestamp="2025-10-28T17:08:10" time="6.347" tests="26">
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Menu Structure Validation should validate complete menu tree structure" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Menu Structure Validation should validate complete menu tree structure" time="0.026">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Main Menu Navigation should display main menu with all 6 categories" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Main Menu Navigation should display main menu with all 6 categories" time="0.516">
      <failure>Error: expect(jest.fn()).toHaveBeenCalled()

Expected number of calls: &gt;= 1
Received number of calls:    0
    at Object.toHaveBeenCalled (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/comprehensive-menu-tree-validation.test.js:297:31)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Main Menu Navigation should navigate to all main menu categories" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Main Menu Navigation should navigate to all main menu categories" time="0.059">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Western Astrology Menu Tree should navigate through Western astrology sub-menus" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Western Astrology Menu Tree should navigate through Western astrology sub-menus" time="0.076">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Western Astrology Menu Tree should calculate REAL Western birth chart with astrology libraries" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Western Astrology Menu Tree should calculate REAL Western birth chart with astrology libraries" time="0.013">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Western Astrology Menu Tree should generate REAL daily horoscope with Vedic calculations" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Western Astrology Menu Tree should generate REAL daily horoscope with Vedic calculations" time="0.015">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Western Astrology Menu Tree should navigate back to main menu from Western astrology sub-menu" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Western Astrology Menu Tree should navigate back to main menu from Western astrology sub-menu" time="0.013">
      <failure>Error: expect(received).toContain(expected) // indexOf

Matcher error: received value must not be null nor undefined

Received has value: undefined
    at Object.toContain (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/comprehensive-menu-tree-validation.test.js:488:33)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Vedic Astrology Menu Tree should navigate through Vedic astrology sub-menus" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Vedic Astrology Menu Tree should navigate through Vedic astrology sub-menus" time="0.069">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Vedic Astrology Menu Tree should calculate REAL Vedic Kundli with astrology libraries" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Vedic Astrology Menu Tree should calculate REAL Vedic Kundli with astrology libraries" time="0.013">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Divination &amp; Mystic Menu Tree should navigate through divination sub-menus" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Divination &amp; Mystic Menu Tree should navigate through divination sub-menus" time="0.054">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Divination &amp; Mystic Menu Tree should generate REAL Tarot reading with tarot library" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Divination &amp; Mystic Menu Tree should generate REAL Tarot reading with tarot library" time="0.011">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Relationships &amp; Groups Menu Tree should navigate through relationships sub-menus" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Relationships &amp; Groups Menu Tree should navigate through relationships sub-menus" time="0.034">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Numerology &amp; Special Menu Tree should navigate through numerology sub-menus" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Numerology &amp; Special Menu Tree should navigate through numerology sub-menus" time="0.046">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Numerology &amp; Special Menu Tree should calculate REAL numerology report with numerology library" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Numerology &amp; Special Menu Tree should calculate REAL numerology report with numerology library" time="0.017">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Real Database Operations should perform REAL MongoDB user creation and retrieval" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Real Database Operations should perform REAL MongoDB user creation and retrieval" time="0.015">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: &quot;Test User&quot;
Received: &quot;Cosmic Explorer&quot;
    at Object.toBe (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/comprehensive-menu-tree-validation.test.js:765:34)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Real Database Operations should perform REAL MongoDB user profile updates" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Real Database Operations should perform REAL MongoDB user profile updates" time="0.087">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Geocoding Integration Tests should test REAL Google Maps geocoding for birth places" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Geocoding Integration Tests should test REAL Google Maps geocoding for birth places" time="1.06">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Geocoding Integration Tests should handle geocoding errors gracefully" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Geocoding Integration Tests should handle geocoding errors gracefully" time="0.753">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Error Handling &amp; Edge Cases should handle incomplete user profiles gracefully" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Error Handling &amp; Edge Cases should handle incomplete user profiles gracefully" time="0.041">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Error Handling &amp; Edge Cases should handle invalid menu selections" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Error Handling &amp; Edge Cases should handle invalid menu selections" time="0.013">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Error Handling &amp; Edge Cases should handle malformed messages" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Error Handling &amp; Edge Cases should handle malformed messages" time="0.019">
      <failure>Error: expect(jest.fn()).toHaveBeenCalled()

Expected number of calls: &gt;= 1
Received number of calls:    0
    at Object.toHaveBeenCalled (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/comprehensive-menu-tree-validation.test.js:891:33)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Concurrent User Sessions should handle multiple concurrent users navigating menus" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Concurrent User Sessions should handle multiple concurrent users navigating menus" time="0.116">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Performance &amp; Load Testing should handle rapid menu navigation efficiently" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Performance &amp; Load Testing should handle rapid menu navigation efficiently" time="0.052">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Astrology Library Integration Tests should validate REAL Vedic calculator integration" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Astrology Library Integration Tests should validate REAL Vedic calculator integration" time="0.011">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Astrology Library Integration Tests should validate REAL Tarot reader integration" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Astrology Library Integration Tests should validate REAL Tarot reader integration" time="0.005">
    </testcase>
    <testcase classname="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Astrology Library Integration Tests should validate REAL numerology service integration" name="Comprehensive Menu Tree Validation - REAL LIBRARIES &amp; DATABASE Astrology Library Integration Tests should validate REAL numerology service integration" time="0.005">
    </testcase>
  </testsuite>
  <testsuite name="API FAILURE RECOVERY: Complete External API Integration Testing Suite" errors="0" failures="1" skipped="0" timestamp="2025-10-28T17:08:17" time="4.994" tests="38">
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite GOOGLE MAPS API FAILURE RECOVERY (6 Scenarios) API_FAILURE_001: Handle Google Maps API quota exceeded → Fallback coordinate handling" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite GOOGLE MAPS API FAILURE RECOVERY (6 Scenarios) API_FAILURE_001: Handle Google Maps API quota exceeded → Fallback coordinate handling" time="0.571">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite GOOGLE MAPS API FAILURE RECOVERY (6 Scenarios) API_FAILURE_002: Service outage recovery → Offline coordinate caching" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite GOOGLE MAPS API FAILURE RECOVERY (6 Scenarios) API_FAILURE_002: Service outage recovery → Offline coordinate caching" time="0.022">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite GOOGLE MAPS API FAILURE RECOVERY (6 Scenarios) API_FAILURE_003: Rate limiting responses → Exponential backoff testing" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite GOOGLE MAPS API FAILURE RECOVERY (6 Scenarios) API_FAILURE_003: Rate limiting responses → Exponential backoff testing" time="0.029">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite GOOGLE MAPS API FAILURE RECOVERY (6 Scenarios) API_FAILURE_004: API key invalidation → Authentication error handling" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite GOOGLE MAPS API FAILURE RECOVERY (6 Scenarios) API_FAILURE_004: API key invalidation → Authentication error handling" time="0.015">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite GOOGLE MAPS API FAILURE RECOVERY (6 Scenarios) API_FAILURE_005: Network timeout scenarios → Timeout recovery" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite GOOGLE MAPS API FAILURE RECOVERY (6 Scenarios) API_FAILURE_005: Network timeout scenarios → Timeout recovery" time="0.011">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite GOOGLE MAPS API FAILURE RECOVERY (6 Scenarios) API_FAILURE_006: Partial response data → Fallback coordinate validation" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite GOOGLE MAPS API FAILURE RECOVERY (6 Scenarios) API_FAILURE_006: Partial response data → Fallback coordinate validation" time="0.012">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite MISTRAL AI INTEGRATION FAILURE RECOVERY (8 Scenarios) API_FAILURE_007: API response parsing errors → Fallback generation methods" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite MISTRAL AI INTEGRATION FAILURE RECOVERY (8 Scenarios) API_FAILURE_007: API response parsing errors → Fallback generation methods" time="0.011">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite MISTRAL AI INTEGRATION FAILURE RECOVERY (8 Scenarios) API_FAILURE_008: Content filtering violations → Alternative content generation" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite MISTRAL AI INTEGRATION FAILURE RECOVERY (8 Scenarios) API_FAILURE_008: Content filtering violations → Alternative content generation" time="0.012">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite MISTRAL AI INTEGRATION FAILURE RECOVERY (8 Scenarios) API_FAILURE_009: Model performance degradation → Quality threshold handling" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite MISTRAL AI INTEGRATION FAILURE RECOVERY (8 Scenarios) API_FAILURE_009: Model performance degradation → Quality threshold handling" time="0.014">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite MISTRAL AI INTEGRATION FAILURE RECOVERY (8 Scenarios) API_FAILURE_010: Token limit exceedances → Content truncation strategies" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite MISTRAL AI INTEGRATION FAILURE RECOVERY (8 Scenarios) API_FAILURE_010: Token limit exceedances → Content truncation strategies" time="0.016">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite MISTRAL AI INTEGRATION FAILURE RECOVERY (8 Scenarios) API_FAILURE_011: Rate limiting enforcement → Request throttling validation" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite MISTRAL AI INTEGRATION FAILURE RECOVERY (8 Scenarios) API_FAILURE_011: Rate limiting enforcement → Request throttling validation" time="0.011">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite MISTRAL AI INTEGRATION FAILURE RECOVERY (8 Scenarios) API_FAILURE_012: Authentication failures → API key rotation" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite MISTRAL AI INTEGRATION FAILURE RECOVERY (8 Scenarios) API_FAILURE_012: Authentication failures → API key rotation" time="0.016">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite MISTRAL AI INTEGRATION FAILURE RECOVERY (8 Scenarios) API_FAILURE_013: Service availability issues → Circuit breaker pattern" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite MISTRAL AI INTEGRATION FAILURE RECOVERY (8 Scenarios) API_FAILURE_013: Service availability issues → Circuit breaker pattern" time="0.012">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite MISTRAL AI INTEGRATION FAILURE RECOVERY (8 Scenarios) API_FAILURE_014: Response quality degradation → Fallback to template responses" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite MISTRAL AI INTEGRATION FAILURE RECOVERY (8 Scenarios) API_FAILURE_014: Response quality degradation → Fallback to template responses" time="0.05">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite DATABASE TRANSACTION INTEGRITY FAILURE RECOVERY (6 Scenarios) API_FAILURE_015: Connection pool exhaustion → Connection management" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite DATABASE TRANSACTION INTEGRITY FAILURE RECOVERY (6 Scenarios) API_FAILURE_015: Connection pool exhaustion → Connection management" time="0.013">
      <failure>Error: Connection pool exhausted
    at Db.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/api-integration/api-failure-recovery.test.js:318:17)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-mock/build/index.js:397:39
    at Db.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-mock/build/index.js:404:13)
    at Db.mockConstructor (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-mock/build/index.js:148:19)
    at Object.collection (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/api-integration/api-failure-recovery.test.js:325:41)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite DATABASE TRANSACTION INTEGRITY FAILURE RECOVERY (6 Scenarios) API_FAILURE_016: Transaction rollback on failures → Data consistency" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite DATABASE TRANSACTION INTEGRITY FAILURE RECOVERY (6 Scenarios) API_FAILURE_016: Transaction rollback on failures → Data consistency" time="0.234">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite DATABASE TRANSACTION INTEGRITY FAILURE RECOVERY (6 Scenarios) API_FAILURE_017: Index corruption recovery → Query optimization fallback" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite DATABASE TRANSACTION INTEGRITY FAILURE RECOVERY (6 Scenarios) API_FAILURE_017: Index corruption recovery → Query optimization fallback" time="0.033">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite DATABASE TRANSACTION INTEGRITY FAILURE RECOVERY (6 Scenarios) API_FAILURE_018: Replica set failures → Read preference failover" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite DATABASE TRANSACTION INTEGRITY FAILURE RECOVERY (6 Scenarios) API_FAILURE_018: Replica set failures → Read preference failover" time="0.043">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite DATABASE TRANSACTION INTEGRITY FAILURE RECOVERY (6 Scenarios) API_FAILURE_019: Schema migration conflicts → Backward compatibility" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite DATABASE TRANSACTION INTEGRITY FAILURE RECOVERY (6 Scenarios) API_FAILURE_019: Schema migration conflicts → Backward compatibility" time="0.195">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite DATABASE TRANSACTION INTEGRITY FAILURE RECOVERY (6 Scenarios) API_FAILURE_020: Cache invalidation failures → Refresh strategy validation" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite DATABASE TRANSACTION INTEGRITY FAILURE RECOVERY (6 Scenarios) API_FAILURE_020: Cache invalidation failures → Refresh strategy validation" time="0.028">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite PAYMENT API FAILURE RECOVERY (4 Scenarios) API_FAILURE_021: Payment gateway failures → Transaction state management" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite PAYMENT API FAILURE RECOVERY (4 Scenarios) API_FAILURE_021: Payment gateway failures → Transaction state management" time="0.019">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite PAYMENT API FAILURE RECOVERY (4 Scenarios) API_FAILURE_022: Subscription renewal failures → Grace period handling" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite PAYMENT API FAILURE RECOVERY (4 Scenarios) API_FAILURE_022: Subscription renewal failures → Grace period handling" time="0.016">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite PAYMENT API FAILURE RECOVERY (4 Scenarios) API_FAILURE_023: Webhook processing failures → Event deduplication" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite PAYMENT API FAILURE RECOVERY (4 Scenarios) API_FAILURE_023: Webhook processing failures → Event deduplication" time="0.014">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite PAYMENT API FAILURE RECOVERY (4 Scenarios) API_FAILURE_024: Currency conversion failures → Exchange rate fallback" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite PAYMENT API FAILURE RECOVERY (4 Scenarios) API_FAILURE_024: Currency conversion failures → Exchange rate fallback" time="0.012">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite WHATSAPP API FAILURE RECOVERY (4 Scenarios) API_FAILURE_025: Message delivery failures → Retry mechanisms" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite WHATSAPP API FAILURE RECOVERY (4 Scenarios) API_FAILURE_025: Message delivery failures → Retry mechanisms" time="0.012">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite WHATSAPP API FAILURE RECOVERY (4 Scenarios) API_FAILURE_026: Rate limit reached → Queue management" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite WHATSAPP API FAILURE RECOVERY (4 Scenarios) API_FAILURE_026: Rate limit reached → Queue management" time="0.015">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite WHATSAPP API FAILURE RECOVERY (4 Scenarios) API_FAILURE_027: Session expiration handling → Authentication refresh" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite WHATSAPP API FAILURE RECOVERY (4 Scenarios) API_FAILURE_027: Session expiration handling → Authentication refresh" time="0.013">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite WHATSAPP API FAILURE RECOVERY (4 Scenarios) API_FAILURE_028: Media upload failures → Alternative delivery methods" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite WHATSAPP API FAILURE RECOVERY (4 Scenarios) API_FAILURE_028: Media upload failures → Alternative delivery methods" time="0.012">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite INTEGRATION RECOVERY &amp; MONITORING (6 Scenarios) API_FAILURE_029: Multi-system correlation failures → Event tracing" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite INTEGRATION RECOVERY &amp; MONITORING (6 Scenarios) API_FAILURE_029: Multi-system correlation failures → Event tracing" time="0.014">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite INTEGRATION RECOVERY &amp; MONITORING (6 Scenarios) API_FAILURE_030: Health check failures → Automated recovery procedures" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite INTEGRATION RECOVERY &amp; MONITORING (6 Scenarios) API_FAILURE_030: Health check failures → Automated recovery procedures" time="0.011">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite INTEGRATION RECOVERY &amp; MONITORING (6 Scenarios) API_FAILURE_031: Performance degradation detection → Load balancing fallback" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite INTEGRATION RECOVERY &amp; MONITORING (6 Scenarios) API_FAILURE_031: Performance degradation detection → Load balancing fallback" time="0.011">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite INTEGRATION RECOVERY &amp; MONITORING (6 Scenarios) API_FAILURE_032: Configuration update failures → Hot reload validation" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite INTEGRATION RECOVERY &amp; MONITORING (6 Scenarios) API_FAILURE_032: Configuration update failures → Hot reload validation" time="0.013">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite INTEGRATION RECOVERY &amp; MONITORING (6 Scenarios) API_FAILURE_033: External service dependencies → Mock data fallback" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite INTEGRATION RECOVERY &amp; MONITORING (6 Scenarios) API_FAILURE_033: External service dependencies → Mock data fallback" time="0.012">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite INTEGRATION RECOVERY &amp; MONITORING (6 Scenarios) API_FAILURE_034: System-wide monitoring failures → Alert escalation" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite INTEGRATION RECOVERY &amp; MONITORING (6 Scenarios) API_FAILURE_034: System-wide monitoring failures → Alert escalation" time="0.011">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite REAL-TIME DATA SYNCHRONIZATION FAILURE RECOVERY (5 Scenarios) API_FAILURE_035: Ephemeris data sync failures → Local calculation fallback" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite REAL-TIME DATA SYNCHRONIZATION FAILURE RECOVERY (5 Scenarios) API_FAILURE_035: Ephemeris data sync failures → Local calculation fallback" time="0.016">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite REAL-TIME DATA SYNCHRONIZATION FAILURE RECOVERY (5 Scenarios) API_FAILURE_036: Live transit calculation failures → Cached transit data" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite REAL-TIME DATA SYNCHRONIZATION FAILURE RECOVERY (5 Scenarios) API_FAILURE_036: Live transit calculation failures → Cached transit data" time="0.012">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite REAL-TIME DATA SYNCHRONIZATION FAILURE RECOVERY (5 Scenarios) API_FAILURE_037: Timezone synchronization failures → UTC fallback" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite REAL-TIME DATA SYNCHRONIZATION FAILURE RECOVERY (5 Scenarios) API_FAILURE_037: Timezone synchronization failures → UTC fallback" time="0.012">
    </testcase>
    <testcase classname="API FAILURE RECOVERY: Complete External API Integration Testing Suite REAL-TIME DATA SYNCHRONIZATION FAILURE RECOVERY (5 Scenarios) API_FAILURE_038: Weather integration failures → Weather-independent predictions" name="API FAILURE RECOVERY: Complete External API Integration Testing Suite REAL-TIME DATA SYNCHRONIZATION FAILURE RECOVERY (5 Scenarios) API_FAILURE_038: Weather integration failures → Weather-independent predictions" time="0.012">
    </testcase>
  </testsuite>
  <testsuite name="Critical User Flow End-to-End Tests" errors="0" failures="10" skipped="0" timestamp="2025-10-28T17:08:22" time="18.501" tests="11">
    <testcase classname="Critical User Flow End-to-End Tests Existing User Daily Horoscope Flow should generate real daily horoscope for existing user" name="Critical User Flow End-to-End Tests Existing User Daily Horoscope Flow should generate real daily horoscope for existing user" time="0.082">
      <failure>Error: expected 200 &quot;OK&quot;, got 500 &quot;Internal Server Error&quot;
    at Object.expect (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/critical-user-flow.test.js:215:10)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)
----
    at Test._assertStatus (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/supertest/lib/test.js:252:14)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/supertest/lib/test.js:308:13
    at Test._assertFunction (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/supertest/lib/test.js:285:13)
    at Test.assert (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/supertest/lib/test.js:164:23)
    at Server.localAssert (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/supertest/lib/test.js:120:14)
    at Object.onceWrapper (node:events:622:28)
    at Server.emit (node:events:508:28)
    at emitCloseNT (node:net:2419:8)
    at processTicksAndRejections (node:internal/process/task_queues:89:21)</failure>
    </testcase>
    <testcase classname="Critical User Flow End-to-End Tests Interactive Button Flow should process interactive button reply for compatibility checking" name="Critical User Flow End-to-End Tests Interactive Button Flow should process interactive button reply for compatibility checking" time="1.033">
      <failure>Error: expect(jest.fn()).toHaveBeenCalled()

Expected number of calls: &gt;= 1
Received number of calls:    0
    at Object.toHaveBeenCalled (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/critical-user-flow.test.js:308:27)</failure>
    </testcase>
    <testcase classname="Critical User Flow End-to-End Tests Error Handling Flow should handle processing errors gracefully" name="Critical User Flow End-to-End Tests Error Handling Flow should handle processing errors gracefully" time="3.029">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;5566778899&quot;, &quot;I&apos;m sorry, I encountered an error processing your message. Please try again later!&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/critical-user-flow.test.js:375:27)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="Critical User Flow End-to-End Tests Performance and Scalability Flow should handle high volume of messages without crashing" name="Critical User Flow End-to-End Tests Performance and Scalability Flow should handle high volume of messages without crashing" time="3.393">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)

Expected number of calls: 20
Received number of calls: 0
    at Object.toHaveBeenCalledTimes (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/critical-user-flow.test.js:480:27)</failure>
    </testcase>
    <testcase classname="Critical User Flow End-to-End Tests Security and Compliance Flow should validate webhook signatures when provided" name="Critical User Flow End-to-End Tests Security and Compliance Flow should validate webhook signatures when provided" time="0.016">
    </testcase>
    <testcase classname="Critical User Flow End-to-End Tests Subscription and Payment Flow should handle subscription plan inquiry" name="Critical User Flow End-to-End Tests Subscription and Payment Flow should handle subscription plan inquiry" time="1.05">
      <failure>Error: expect(jest.fn()).toHaveBeenCalled()

Expected number of calls: &gt;= 1
Received number of calls:    0
    at Object.toHaveBeenCalled (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/critical-user-flow.test.js:638:27)</failure>
    </testcase>
    <testcase classname="Critical User Flow End-to-End Tests Subscription and Payment Flow should handle premium subscription request" name="Critical User Flow End-to-End Tests Subscription and Payment Flow should handle premium subscription request" time="1.044">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)

Expected number of calls: 2
Received number of calls: 0
    at Object.toHaveBeenCalledTimes (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/critical-user-flow.test.js:703:27)</failure>
    </testcase>
    <testcase classname="Critical User Flow End-to-End Tests Astrology Readings Flow Profile Management Flow should handle profile viewing request" name="Critical User Flow End-to-End Tests Astrology Readings Flow Profile Management Flow should handle profile viewing request" time="1.052">
      <failure>Error: expect(jest.fn()).toHaveBeenCalled()

Expected number of calls: &gt;= 1
Received number of calls:    0
    at Object.toHaveBeenCalled (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/critical-user-flow.test.js:794:29)</failure>
    </testcase>
    <testcase classname="Critical User Flow End-to-End Tests Astrology Readings Flow should handle tarot reading request" name="Critical User Flow End-to-End Tests Astrology Readings Flow should handle tarot reading request" time="1.039">
      <failure>Error: expect(jest.fn()).toHaveBeenCalled()

Expected number of calls: &gt;= 1
Received number of calls:    0
    at Object.toHaveBeenCalled (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/critical-user-flow.test.js:869:27)</failure>
    </testcase>
    <testcase classname="Critical User Flow End-to-End Tests Astrology Readings Flow should handle palmistry reading request" name="Critical User Flow End-to-End Tests Astrology Readings Flow should handle palmistry reading request" time="1.051">
      <failure>Error: expect(jest.fn()).toHaveBeenCalled()

Expected number of calls: &gt;= 1
Received number of calls:    0
    at Object.toHaveBeenCalled (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/critical-user-flow.test.js:927:27)</failure>
    </testcase>
    <testcase classname="Critical User Flow End-to-End Tests Astrology Readings Flow should handle numerology report request" name="Critical User Flow End-to-End Tests Astrology Readings Flow should handle numerology report request" time="1.046">
      <failure>Error: expect(jest.fn()).toHaveBeenCalled()

Expected number of calls: &gt;= 1
Received number of calls:    0
    at Object.toHaveBeenCalled (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/critical-user-flow.test.js:985:27)</failure>
    </testcase>
  </testsuite>
  <testsuite name="External API Integration Tests - SAFE VALIDATION" errors="0" failures="10" skipped="0" timestamp="2025-10-28T17:08:41" time="5.158" tests="15">
    <testcase classname="External API Integration Tests - SAFE VALIDATION Google Maps Integration - SAFE TESTING should validate Google Maps client setup" name="External API Integration Tests - SAFE VALIDATION Google Maps Integration - SAFE TESTING should validate Google Maps client setup" time="0.004">
    </testcase>
    <testcase classname="External API Integration Tests - SAFE VALIDATION Google Maps Integration - SAFE TESTING should handle astrocartography requests safely" name="External API Integration Tests - SAFE VALIDATION Google Maps Integration - SAFE TESTING should handle astrocartography requests safely" time="0.04">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;data&apos;)
    at data (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:73:67)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/external-api-integration.test.js:94:9)</failure>
    </testcase>
    <testcase classname="External API Integration Tests - SAFE VALIDATION OpenAI/Gemini Integration - SAFE TESTING should validate AI service imports" name="External API Integration Tests - SAFE VALIDATION OpenAI/Gemini Integration - SAFE TESTING should validate AI service imports" time="0.001">
    </testcase>
    <testcase classname="External API Integration Tests - SAFE VALIDATION OpenAI/Gemini Integration - SAFE TESTING should handle AI-powered readings safely" name="External API Integration Tests - SAFE VALIDATION OpenAI/Gemini Integration - SAFE TESTING should handle AI-powered readings safely" time="0.006">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;data&apos;)
    at data (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:73:67)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/external-api-integration.test.js:149:9)</failure>
    </testcase>
    <testcase classname="External API Integration Tests - SAFE VALIDATION WhatsApp API Integration - SAFE TESTING should validate WhatsApp service setup" name="External API Integration Tests - SAFE VALIDATION WhatsApp API Integration - SAFE TESTING should validate WhatsApp service setup" time="0.003">
    </testcase>
    <testcase classname="External API Integration Tests - SAFE VALIDATION WhatsApp API Integration - SAFE TESTING should handle WhatsApp message processing" name="External API Integration Tests - SAFE VALIDATION WhatsApp API Integration - SAFE TESTING should handle WhatsApp message processing" time="0.006">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;data&apos;)
    at data (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:73:67)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/external-api-integration.test.js:197:9)</failure>
    </testcase>
    <testcase classname="External API Integration Tests - SAFE VALIDATION Database Integration - REAL MONGO OPERATIONS should perform REAL database CRUD operations" name="External API Integration Tests - SAFE VALIDATION Database Integration - REAL MONGO OPERATIONS should perform REAL database CRUD operations" time="0.178">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: &quot;es&quot;
Received: undefined
    at Object.toBe (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/external-api-integration.test.js:222:36)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="External API Integration Tests - SAFE VALIDATION Database Integration - REAL MONGO OPERATIONS should handle database connection errors gracefully" name="External API Integration Tests - SAFE VALIDATION Database Integration - REAL MONGO OPERATIONS should handle database connection errors gracefully" time="0.005">
    </testcase>
    <testcase classname="External API Integration Tests - SAFE VALIDATION Payment Integration - SAFE TESTING should validate payment service setup" name="External API Integration Tests - SAFE VALIDATION Payment Integration - SAFE TESTING should validate payment service setup" time="0.001">
    </testcase>
    <testcase classname="External API Integration Tests - SAFE VALIDATION Payment Integration - SAFE TESTING should handle payment-related requests safely" name="External API Integration Tests - SAFE VALIDATION Payment Integration - SAFE TESTING should handle payment-related requests safely" time="0.011">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;data&apos;)
    at data (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:73:67)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/external-api-integration.test.js:260:9)</failure>
    </testcase>
    <testcase classname="External API Integration Tests - SAFE VALIDATION Error Handling &amp; Resilience should handle network timeouts gracefully" name="External API Integration Tests - SAFE VALIDATION Error Handling &amp; Resilience should handle network timeouts gracefully" time="0.008">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;data&apos;)
    at data (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:73:67)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/external-api-integration.test.js:292:9)</failure>
    </testcase>
    <testcase classname="External API Integration Tests - SAFE VALIDATION Error Handling &amp; Resilience should handle malformed data gracefully" name="External API Integration Tests - SAFE VALIDATION Error Handling &amp; Resilience should handle malformed data gracefully" time="0.004">
      <failure>CastError: Cast to string failed for value &quot;{ phoneNumber: &apos;+incomplete&apos;, profileComplete: false }&quot; (type Object) at path &quot;phoneNumber&quot; for model &quot;User&quot;
    at SchemaString.Object.&lt;anonymous&gt;.SchemaString.cast (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongoose/lib/schema/string.js:606:11)
    at SchemaString.Object.&lt;anonymous&gt;.SchemaType.applySetters (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongoose/lib/schematype.js:1219:12)
    at SchemaString.Object.&lt;anonymous&gt;.SchemaString.castForQuery (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongoose/lib/schema/string.js:691:15)
    at cast (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongoose/lib/cast.js:318:34)
    at model.Query.Object.&lt;anonymous&gt;.Query.cast (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongoose/lib/query.js:4927:12)
    at model.Query.Object.&lt;anonymous&gt;.Query._castConditions (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongoose/lib/query.js:2237:10)
    at model.Query._findOne (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongoose/lib/query.js:2533:8)
    at model.Query.exec (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongoose/lib/query.js:4447:28)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.createUser (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/models/userModel.js:19:26)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/external-api-integration.test.js:310:32)</failure>
    </testcase>
    <testcase classname="External API Integration Tests - SAFE VALIDATION Performance &amp; Scalability should handle concurrent requests efficiently" name="External API Integration Tests - SAFE VALIDATION Performance &amp; Scalability should handle concurrent requests efficiently" time="0.014">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;data&apos;)
    at data (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:73:67)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at async Promise.all (index 0)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/external-api-integration.test.js:377:9)</failure>
    </testcase>
    <testcase classname="External API Integration Tests - SAFE VALIDATION Performance &amp; Scalability should handle high-volume user load testing" name="External API Integration Tests - SAFE VALIDATION Performance &amp; Scalability should handle high-volume user load testing" time="0.227">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;data&apos;)
    at data (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:73:67)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at async Promise.all (index 4)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/external-api-integration.test.js:447:9)</failure>
    </testcase>
    <testcase classname="External API Integration Tests - SAFE VALIDATION Performance &amp; Scalability should maintain response times under load" name="External API Integration Tests - SAFE VALIDATION Performance &amp; Scalability should maintain response times under load" time="0.14">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;data&apos;)
    at data (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:73:67)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/external-api-integration.test.js:494:11)</failure>
    </testcase>
  </testsuite>
  <testsuite name="AstrologyEngine" errors="0" failures="1" skipped="0" timestamp="2025-10-28T17:08:47" time="2.856" tests="3">
    <testcase classname="AstrologyEngine generateAstrologyResponse should generate astrology response for valid user" name="AstrologyEngine generateAstrologyResponse should generate astrology response for valid user" time="0.002">
    </testcase>
    <testcase classname="AstrologyEngine validateBirthData should validate valid birth data" name="AstrologyEngine validateBirthData should validate valid birth data" time="0.003">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: true
Received: false
    at Object.toBe (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/unit/services/astrology/astrologyEngine.test.js:30:30)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AstrologyEngine validateBirthData should reject invalid birth data" name="AstrologyEngine validateBirthData should reject invalid birth data" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="Logger" errors="0" failures="3" skipped="0" timestamp="2025-10-28T17:08:50" time="3.633" tests="4">
    <testcase classname="Logger Logging Methods should log info message" name="Logger Logging Methods should log info message" time="0.003">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: StringContaining &quot;Test info message&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/unit/utils/logger.test.js:18:26)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Logger Logging Methods should log error message" name="Logger Logging Methods should log error message" time="0.002">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: StringContaining &quot;Test error message&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/unit/utils/logger.test.js:28:26)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Logger Logging Methods should log warn message" name="Logger Logging Methods should log warn message" time="0.002">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: StringContaining &quot;Test warn message&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/unit/utils/logger.test.js:38:26)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Logger Logging Methods should log debug message" name="Logger Logging Methods should log debug message" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="PaymentService" errors="0" failures="4" skipped="0" timestamp="2025-10-28T17:08:54" time="2.536" tests="5">
    <testcase classname="PaymentService processPayment should process payment successfully" name="PaymentService processPayment should process payment successfully" time="0.004">
      <failure>Error: Payment processing failed
    at PaymentService.processStripePayment (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/payment/paymentService.js:307:13)
    at PaymentService.processStripePayment [as processPayment] (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/payment/paymentService.js:212:27)
    at Object.processPayment (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/unit/services/payment/paymentService.test.js:30:43)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="PaymentService processPayment should handle payment failure" name="PaymentService processPayment should handle payment failure" time="0.003">
    </testcase>
    <testcase classname="PaymentService validatePayment should validate valid payment data" name="PaymentService validatePayment should validate valid payment data" time="0.001">
      <failure>TypeError: paymentService.validatePayment is not a function
    at Object.validatePayment (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/unit/services/payment/paymentService.test.js:60:37)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="PaymentService validatePayment should reject invalid payment data" name="PaymentService validatePayment should reject invalid payment data" time="0.002">
      <failure>TypeError: paymentService.validatePayment is not a function
    at Object.validatePayment (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/unit/services/payment/paymentService.test.js:73:37)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="PaymentService getSubscriptionDetails should get subscription details" name="PaymentService getSubscriptionDetails should get subscription details" time="0.002">
      <failure>TypeError: paymentService.getSubscriptionDetails is not a function
    at Object.getSubscriptionDetails (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/unit/services/payment/paymentService.test.js:83:43)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
  </testsuite>
  <testsuite name="WhatsApp Message Processor" errors="0" failures="2" skipped="0" timestamp="2025-10-28T17:08:56" time="2.707" tests="9">
    <testcase classname="WhatsApp Message Processor processIncomingMessage should create new user for unknown phone number" name="WhatsApp Message Processor processIncomingMessage should create new user for unknown phone number" time="0.006">
    </testcase>
    <testcase classname="WhatsApp Message Processor processIncomingMessage should process existing user message" name="WhatsApp Message Processor processIncomingMessage should process existing user message" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Message Processor processIncomingMessage should handle text messages correctly" name="WhatsApp Message Processor processIncomingMessage should handle text messages correctly" time="0.002">
    </testcase>
    <testcase classname="WhatsApp Message Processor processIncomingMessage should handle interactive button replies" name="WhatsApp Message Processor processIncomingMessage should handle interactive button replies" time="0.004">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;1234567890&quot;, &quot;👤 *Profile Required*·
To provide accurate Daily Horoscope, I need your birth details:·
📅 *Birth Date* (DD/MM/YYYY)
🕐 *Birth Time* (HH:MM - 24hr format)
📍 *Birth Place* (City, Country)·
*Example:*
15/06/1990, 14:30, Mumbai, India·
Send your birth details in this format, or use the Settings menu to update your profile permanently.&quot;, &quot;text&quot;
Received: &quot;1234567890&quot;, &quot;👤 *Profile Required*·
To provide accurate Daily Horoscope, I need your birth details:·
📅 *Birth Date* (DDMMYY or DDMMYYYY format)
🕐 *Birth Time* (HHMM format - 24hr)
📍 *Birth Place* (City, Country)·
*Example:*
150690, 1430, Mumbai, India·
Send your birth details in this format, or use the Settings menu to update your profile permanently.&quot;, &quot;text&quot;

Number of calls: 1
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/unit/services/whatsapp/messageProcessor.test.js:174:27)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="WhatsApp Message Processor processIncomingMessage should handle interactive list replies" name="WhatsApp Message Processor processIncomingMessage should handle interactive list replies" time="0.004">
    </testcase>
    <testcase classname="WhatsApp Message Processor processIncomingMessage should handle button messages" name="WhatsApp Message Processor processIncomingMessage should handle button messages" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Message Processor processIncomingMessage should handle media messages" name="WhatsApp Message Processor processIncomingMessage should handle media messages" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Message Processor processIncomingMessage should handle unsupported message types gracefully" name="WhatsApp Message Processor processIncomingMessage should handle unsupported message types gracefully" time="0.002">
    </testcase>
    <testcase classname="WhatsApp Message Processor processIncomingMessage should handle errors gracefully" name="WhatsApp Message Processor processIncomingMessage should handle errors gracefully" time="0.003">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: StringContaining &quot;Error processing message from 1234567890:&quot;, Any&lt;Error&gt;
Received
       1: &quot;❌ Error processing message from 1234567890: Database error&quot;
       2: &quot;❌ Error sent to 1234567890: Database error&quot;

Number of calls: 2
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/unit/services/whatsapp/messageProcessor.test.js:295:28)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
  </testsuite>
  <testsuite name="MayanReader" errors="0" failures="1" skipped="0" timestamp="2025-10-28T17:08:59" time="2.342" tests="2">
    <testcase classname="MayanReader generateMayanChart should generate Mayan chart for valid birth data" name="MayanReader generateMayanChart should generate Mayan chart for valid birth data" time="0.005">
    </testcase>
    <testcase classname="MayanReader generateMayanChart should handle invalid birth data gracefully" name="MayanReader generateMayanChart should handle invalid birth data gracefully" time="0.003">
      <failure>Error: expect(received).toBeDefined()

Received: undefined
    at Object.toBeDefined (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/unit/services/astrology/mayanReader.test.js:52:27)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
  </testsuite>
  <testsuite name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation" errors="0" failures="122" skipped="0" timestamp="2025-10-28T17:09:01" time="27.015" tests="155">
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should allow 6+ level deep navigation: Main -&gt; Western -&gt; Basic -&gt; Birth Chart" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should allow 6+ level deep navigation: Main -&gt; Western -&gt; Basic -&gt; Birth Chart" time="0.842">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;You are now in Birth Chart Analysis. What would you like to explore?&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:48:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should allow 6+ level deep navigation: Main -&gt; Vedic -&gt; Advanced -&gt; Dasha Analysis" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should allow 6+ level deep navigation: Main -&gt; Vedic -&gt; Advanced -&gt; Dasha Analysis" time="0.396">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;You are now in Dasha Analysis. Please select a Dasha period.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:64:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should preserve menu state across sessions (return to last menu position)" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should preserve menu state across sessions (return to last menu position)" time="0.366">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Welcome back! You were last in Western Astrology. Would you like to continue?&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:80:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display breadcrumb navigation for multi-level back functionality" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display breadcrumb navigation for multi-level back functionality" time="0.389">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Main Menu &gt; Vedic Astrology &gt; Advanced Readings&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:94:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should show premium options only for subscribed users (Subscription-tier menu differences)" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should show premium options only for subscribed users (Subscription-tier menu differences)" time="0.324">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Premium Features&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:117:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display language-dependent menu options based on user preference" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display language-dependent menu options based on user preference" time="0.209">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Western Astrology&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:128:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should dynamically change menu options based on profile completion status" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should dynamically change menu options based on profile completion status" time="0.317">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Complete Profile&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:153:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should prioritize frequently used menu options (Adaptive menu ordering)" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should prioritize frequently used menu options (Adaptive menu ordering)" time="0.508">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;✨ Daily Horoscope (Recommended) ✨&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:173:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Basic -&gt; Planets in Birth Chart" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Basic -&gt; Planets in Birth Chart" time="0.486">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Exploring Planets in your Birth Chart.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:189:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Basic -&gt; Houses in Birth Chart" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Basic -&gt; Houses in Birth Chart" time="0.574">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Exploring Houses in your Birth Chart.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:199:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Basic -&gt; Aspects in Birth Chart" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Basic -&gt; Aspects in Birth Chart" time="0.459">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Exploring Aspects in your Birth Chart.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:209:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Advanced -&gt; Dasha -&gt; Vimshottari" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Advanced -&gt; Dasha -&gt; Vimshottari" time="0.496">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Initiating Vimshottari Dasha Analysis.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:219:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Advanced -&gt; Dasha -&gt; Yogini" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Advanced -&gt; Dasha -&gt; Yogini" time="0.389">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Initiating Yogini Dasha Analysis.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:229:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Advanced -&gt; Dasha -&gt; Char Dasha" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Advanced -&gt; Dasha -&gt; Char Dasha" time="0.231">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Initiating Char Dasha Analysis.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:239:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Advanced -&gt; Dasha -&gt; Narayan Dasha" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Advanced -&gt; Dasha -&gt; Narayan Dasha" time="0.311">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Initiating Narayan Dasha Analysis.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:249:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Relationships -&gt; Family -&gt; 4-member -&gt; Parent-Child" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Relationships -&gt; Family -&gt; 4-member -&gt; Parent-Child" time="0.152">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Beginning Parent-Child relationship analysis.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:259:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Relationships -&gt; Family -&gt; 4-member -&gt; Sibling" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Relationships -&gt; Family -&gt; 4-member -&gt; Sibling" time="0.149">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Beginning Sibling relationship analysis.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:269:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Relationships -&gt; Family -&gt; 4-member -&gt; Spousal" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Relationships -&gt; Family -&gt; 4-member -&gt; Spousal" time="0.183">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Beginning Spousal relationship analysis.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:279:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Ancient Wisdom -&gt; Hellenistic -&gt; Lots" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Ancient Wisdom -&gt; Hellenistic -&gt; Lots" time="0.2">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Exploring Hellenistic Lots.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:289:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Ancient Wisdom -&gt; Hellenistic -&gt; Decans" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Ancient Wisdom -&gt; Hellenistic -&gt; Decans" time="0.195">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Exploring Hellenistic Decans.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:299:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Ancient Wisdom -&gt; Hellenistic -&gt; Terms" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Ancient Wisdom -&gt; Hellenistic -&gt; Terms" time="0.164">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Exploring Hellenistic Terms.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:309:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Ancient Wisdom -&gt; Hellenistic -&gt; Triplicities" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Ancient Wisdom -&gt; Hellenistic -&gt; Triplicities" time="0.148">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Exploring Hellenistic Triplicities.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:319:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Ancient Wisdom -&gt; Hellenistic -&gt; Planetary Hours" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Ancient Wisdom -&gt; Hellenistic -&gt; Planetary Hours" time="0.147">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Exploring Hellenistic Planetary Hours.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:329:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should allow saving quick access bookmarks to favorite menu shortcuts" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should allow saving quick access bookmarks to favorite menu shortcuts" time="0.179">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;&apos;Western&apos; added to your favorites.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:338:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should recall recent path memory for frequently used shortcuts" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should recall recent path memory for frequently used shortcuts" time="0.155">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Your recent path: Vedic Astrology. Continue?&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:348:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should list available shortcuts from recent path memory" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should list available shortcuts from recent path memory" time="0.182">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Available shortcuts: Western Astrology, Basic Readings.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:359:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should correctly restore state after network interruption mid-navigation" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should correctly restore state after network interruption mid-navigation" time="0.145">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Connection restored. You are in Western Astrology.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:369:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should allow user to jump to a bookmarked menu item" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should allow user to jump to a bookmarked menu item" time="0.153">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;You are now in Western Astrology menu.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:380:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should clear recent path memory upon user explicit clear command" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should clear recent path memory upon user explicit clear command" time="0.151">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Your navigation history has been cleared.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:390:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display exclusive premium options for Gold tier subscribers" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display exclusive premium options for Gold tier subscribers" time="0.155">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Gold Exclusive Insights&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:399:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display exclusive premium options for Platinum tier subscribers" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display exclusive premium options for Platinum tier subscribers" time="0.131">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Platinum VIP Access&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:408:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should prompt for missing birth time before showing advanced astrological options" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should prompt for missing birth time before showing advanced astrological options" time="0.115">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Please provide your exact birth time to access advanced readings.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:421:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should prompt for missing birth place before showing location-based astrological options" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should prompt for missing birth place before showing location-based astrological options" time="0.087">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Please provide your birth place to access location-based astrology.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:434:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should not show &apos;Complete Profile&apos; after full profile completion" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should not show &apos;Complete Profile&apos; after full profile completion" time="0.071">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display a personalized welcome message based on recent activity" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display a personalized welcome message based on recent activity" time="0.079">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Welcome back! Your last request was Daily Horoscope.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:453:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Transits -&gt; Weekly Transits" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Transits -&gt; Weekly Transits" time="0.083">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Displaying Weekly Transits.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:462:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Transits -&gt; Monthly Transits" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Transits -&gt; Monthly Transits" time="0.085">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Displaying Monthly Transits.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:471:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Progressions -&gt; Secondary Progressions" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Progressions -&gt; Secondary Progressions" time="0.079">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Initiating Secondary Progressions Analysis.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:480:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Progressions -&gt; Solar Arc Directions" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Progressions -&gt; Solar Arc Directions" time="0.081">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Initiating Solar Arc Directions Analysis.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:489:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Basic -&gt; Sidereal Birth Chart" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Basic -&gt; Sidereal Birth Chart" time="0.085">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Displaying Sidereal Birth Chart.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:498:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Basic -&gt; Divisional Charts (Varga)" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Basic -&gt; Divisional Charts (Varga)" time="0.099">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Exploring Divisional Charts (Varga).&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:507:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Advanced -&gt; Remedial Measures -&gt; Gemstones" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Advanced -&gt; Remedial Measures -&gt; Gemstones" time="0.122">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Suggesting Gemstones as remedial measures.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:517:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Advanced -&gt; Remedial Measures -&gt; Mantras" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Advanced -&gt; Remedial Measures -&gt; Mantras" time="0.129">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Suggesting Mantras as remedial measures.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:527:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Relationships -&gt; Romantic -&gt; Compatibility Report" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Relationships -&gt; Romantic -&gt; Compatibility Report" time="0.107">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Generating Romantic Compatibility Report.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:536:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Relationships -&gt; Friendship -&gt; Friendship Analysis" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Relationships -&gt; Friendship -&gt; Friendship Analysis" time="0.105">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Generating Friendship Analysis.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:545:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; I Ching -&gt; Hexagram Reading" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; I Ching -&gt; Hexagram Reading" time="0.085">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Initiating I Ching Hexagram Reading.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:554:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Tarot -&gt; Daily Card Pull" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Tarot -&gt; Daily Card Pull" time="0.084">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Pulling your Daily Tarot Card.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:563:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Ancient Wisdom -&gt; Hermetic -&gt; Astrological Magic" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Ancient Wisdom -&gt; Hermetic -&gt; Astrological Magic" time="0.108">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Exploring Astrological Magic principles.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:573:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Settings -&gt; Profile Management -&gt; Edit Birth Data" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Settings -&gt; Profile Management -&gt; Edit Birth Data" time="0.091">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;What would you like to edit? (Date, Time, Place)&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:582:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Settings -&gt; Language Preferences -&gt; Change Language" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Settings -&gt; Language Preferences -&gt; Change Language" time="0.12">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Please choose your preferred language.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:591:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Help -&gt; FAQ -&gt; Getting Started" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Help -&gt; FAQ -&gt; Getting Started" time="0.213">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Welcome to the FAQ for Getting Started.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:600:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate back multiple levels using &quot;back&quot; command" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate back multiple levels using &quot;back&quot; command" time="0.191">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;You are now in Vedic Astrology menu.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:611:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should return to Main Menu from a deep level using &quot;Main Menu&quot; command" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should return to Main Menu from a deep level using &quot;Main Menu&quot; command" time="0.26">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Welcome to the Main Menu!&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:622:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should correctly restore state after network interruption mid-navigation" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should correctly restore state after network interruption mid-navigation" time="0.137">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Connection restored. You are in Western Astrology.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:632:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should allow user to jump to a bookmarked menu item" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should allow user to jump to a bookmarked menu item" time="0.365">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;You are now in Western Astrology menu.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:643:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should clear recent path memory upon user explicit clear command" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should clear recent path memory upon user explicit clear command" time="0.169">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Your navigation history has been cleared.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:653:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display exclusive premium options for Gold tier subscribers" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display exclusive premium options for Gold tier subscribers" time="0.09">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Gold Exclusive Insights&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:662:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display exclusive premium options for Platinum tier subscribers" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display exclusive premium options for Platinum tier subscribers" time="0.075">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Platinum VIP Access&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:671:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should prompt for missing birth time before showing advanced astrological options" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should prompt for missing birth time before showing advanced astrological options" time="0.064">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Please provide your exact birth time to access advanced readings.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:684:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should prompt for missing birth place before showing location-based astrological options" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should prompt for missing birth place before showing location-based astrological options" time="0.068">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Please provide your birth place to access location-based astrology.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:697:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should not show &apos;Complete Profile&apos; after full profile completion" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should not show &apos;Complete Profile&apos; after full profile completion" time="0.096">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display a personalized welcome message based on recent activity" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display a personalized welcome message based on recent activity" time="0.1">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Welcome back! Your last request was Daily Horoscope.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:716:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Compatibility -&gt; Synastry Analysis" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Compatibility -&gt; Synastry Analysis" time="0.093">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Initiating Synastry Analysis.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:725:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Compatibility -&gt; Composite Chart" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Western -&gt; Compatibility -&gt; Composite Chart" time="0.095">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Generating Composite Chart.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:734:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Muhurta -&gt; Electional Astrology" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Muhurta -&gt; Electional Astrology" time="0.098">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Exploring Electional Astrology for auspicious timings.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:743:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Muhurta -&gt; Daily Planetary Hours" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Vedic -&gt; Muhurta -&gt; Daily Planetary Hours" time="0.129">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Displaying Daily Planetary Hours.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:752:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Relationships -&gt; Events -&gt; Wedding Timing" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Relationships -&gt; Events -&gt; Wedding Timing" time="0.085">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Calculating auspicious wedding timings.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:761:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Relationships -&gt; Business -&gt; Team Dynamics" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Relationships -&gt; Business -&gt; Team Dynamics" time="0.076">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Analyzing Team Dynamics.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:770:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Horary -&gt; Question Analysis" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Horary -&gt; Question Analysis" time="0.083">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Submitting your question for Horary Analysis.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:779:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Auspicious Timings -&gt; Daily" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Divination -&gt; Auspicious Timings -&gt; Daily" time="0.104">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Displaying Daily Auspicious Timings.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:788:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Settings -&gt; Notifications -&gt; Manage Alerts" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Settings -&gt; Notifications -&gt; Manage Alerts" time="0.134">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Manage your astrological alerts.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:797:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Settings -&gt; Account -&gt; Change Password" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Settings -&gt; Account -&gt; Change Password" time="0.122">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Please enter your old password to change it.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:806:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Help -&gt; FAQ -&gt; Getting Started" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Help -&gt; FAQ -&gt; Getting Started" time="0.114">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Welcome to the FAQ for Getting Started.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:815:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Help -&gt; Contact Support -&gt; Live Chat" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Help -&gt; Contact Support -&gt; Live Chat" time="0.138">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Connecting you to a live support agent.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:824:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Help -&gt; Tutorials -&gt; Video Guides" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Help -&gt; Tutorials -&gt; Video Guides" time="0.213">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Here are our video guides to get you started.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:833:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Resources -&gt; Glossary -&gt; Astrological Terms" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate to Resources -&gt; Glossary -&gt; Astrological Terms" time="0.188">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Welcome to the Astrological Terms Glossary.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:842:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should handle navigation through a 7-level deep path correctly" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should handle navigation through a 7-level deep path correctly" time="0.113">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Displaying Major Dasha Periods.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:854:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should handle navigation through a 8-level deep path correctly" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should handle navigation through a 8-level deep path correctly" time="0.15">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Details for Sun Dasha Period.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:867:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display unique submenu options for &apos;relationships&apos; focused users" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should display unique submenu options for &apos;relationships&apos; focused users" time="0.065">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Marriage Compatibility&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:876:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should show specific menu items to users who have completed specific readings" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should show specific menu items to users who have completed specific readings" time="0.066">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Recommended: Advanced Chart Interpretations&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:886:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should hide &quot;Beginner&quot; options for users who have accessed &quot;Advanced&quot; readings multiple times" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should hide &quot;Beginner&quot; options for users who have accessed &quot;Advanced&quot; readings multiple times" time="0.123">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should offer quick access to &quot;Subscription management&quot; for premium users" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should offer quick access to &quot;Subscription management&quot; for premium users" time="0.09">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Subscription Management&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:907:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should promote a specific new feature to all users upon launch" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should promote a specific new feature to all users upon launch" time="0.096">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;🎉 New! Explore Daily Horoscopes 2.0! 🎉&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:915:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should indicate menu options with pending actions/notifications" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should indicate menu options with pending actions/notifications" time="0.102">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Daily Horoscope (New!)&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:924:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should offer a &quot;Go to top&quot; or &quot;Home&quot; option from any deep menu level" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should offer a &quot;Go to top&quot; or &quot;Home&quot; option from any deep menu level" time="0.094">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Welcome to the Main Menu!&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:935:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should allow partial input matching for menu navigation to some depth" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should allow partial input matching for menu navigation to some depth" time="0.06">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;You are now in Western Astrology menu.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:942:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should offer &quot;back&quot; option even if current menu has no sub-options" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should offer &quot;back&quot; option even if current menu has no sub-options" time="0.108">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;You are now in Basic Readings menu.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:954:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should confirm irreversible actions before proceeding with navigation" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should confirm irreversible actions before proceeding with navigation" time="0.08">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Are you sure you want to delete your profile? This action is irreversible. (Yes/No)&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:963:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should limit navigation depth for non-premium users in advanced sections" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should limit navigation depth for non-premium users in advanced sections" time="0.134">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;This advanced option is only available for premium subscribers.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:973:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should adapt menu options for users tagged with specific astrological interests" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should adapt menu options for users tagged with specific astrological interests" time="0.486">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Horary (Recommended for your interests)&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:982:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should offer a return to previous interaction point after completing a reading" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should offer a return to previous interaction point after completing a reading" time="0.158">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;You are back in Birth Chart Analysis.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:994:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should provide a searchable menu if options are too numerous to list" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should provide a searchable menu if options are too numerous to list" time="0.166">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Too many options to list. Please type keywords to search for a service.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1002:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate using direct commands regardless of current menu depth" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Deep Menu Path Traversals (45 tests) should navigate using direct commands regardless of current menu depth" time="0.243">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Your Daily Horoscope is being prepared.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1013:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Contextual Menu Behaviors (8 tests) should suggest recent interactions based on user history" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Contextual Menu Behaviors (8 tests) should suggest recent interactions based on user history" time="0.277">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Recent: Daily Horoscope, Compatibility Analysis&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1030:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Contextual Menu Behaviors (8 tests) should highlight favorite services based on usage patterns" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Contextual Menu Behaviors (8 tests) should highlight favorite services based on usage patterns" time="0.519">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;⭐ Birth Chart Analysis&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1047:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Contextual Menu Behaviors (8 tests) should offer service completion continuations (follow-up recommendations)" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Contextual Menu Behaviors (8 tests) should offer service completion continuations (follow-up recommendations)" time="0.215">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;You just viewed your Birth Chart. Would you like to explore Transits or Progressions?&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1063:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Contextual Menu Behaviors (8 tests) should provide interest-based suggestions (Behavioral personalization)" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Contextual Menu Behaviors (8 tests) should provide interest-based suggestions (Behavioral personalization)" time="0.326">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Based on your interest in Vedic Astrology, you might like: Remedial Measures.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1079:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Contextual Menu Behaviors (8 tests) should apply free tier limitations and prompt for upgrade" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Contextual Menu Behaviors (8 tests) should apply free tier limitations and prompt for upgrade" time="0.297">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;This is a premium feature. Please upgrade your subscription to access it.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1092:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Contextual Menu Behaviors (8 tests) should unlock premium features upon subscription activation" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Contextual Menu Behaviors (8 tests) should unlock premium features upon subscription activation" time="0.113">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;This is a premium feature.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1108:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Contextual Menu Behaviors (8 tests) should modify menus for trial period users" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Contextual Menu Behaviors (8 tests) should modify menus for trial period users" time="0.09">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;You are on a free trial. Enjoy premium features until [date].&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1134:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Contextual Menu Behaviors (8 tests) should display billing issue indicators in menu overlays" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Contextual Menu Behaviors (8 tests) should display billing issue indicators in menu overlays" time="0.078">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;⚠️ Billing Issue: Please update your payment method.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1153:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) should handle invalid action IDs gracefully with error message" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) should handle invalid action IDs gracefully with error message" time="0.008">
      <failure>ReferenceError: TEST_PHONES is not defined
    at Object.TEST_PHONES (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1167:15)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) expired session navigation → fresh menu initialization" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) expired session navigation → fresh menu initialization" time="0.009">
      <failure>ReferenceError: Session is not defined
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1192:7)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) concurrent access conflicts → session isolation" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) concurrent access conflicts → session isolation" time="0.009">
      <failure>ReferenceError: TEST_PHONES is not defined
    at Object.TEST_PHONES (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1212:38)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) menu state corruption → recovery and reinitialization" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) menu state corruption → recovery and reinitialization" time="0.008">
      <failure>ReferenceError: TEST_PHONES is not defined
    at Object.TEST_PHONES (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1236:15)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) partial message delivery → state consistency" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) partial message delivery → state consistency" time="0.008">
      <failure>ReferenceError: TEST_PHONES is not defined
    at Object.TEST_PHONES (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1254:15)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) invalid menu structure handling → fallback to main menu" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) invalid menu structure handling → fallback to main menu" time="0.008">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) network failure mid-navigation → graceful degradation" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) network failure mid-navigation → graceful degradation" time="0.014">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) message timeout during selection → automatic retry" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) message timeout during selection → automatic retry" time="0.007">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) service interruption recovery → graceful handling" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) service interruption recovery → graceful handling" time="0.009">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) API quota exhaustion → menu throttling" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) API quota exhaustion → menu throttling" time="0.008">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) memory overflow protection → large menu truncation" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) memory overflow protection → large menu truncation" time="0.009">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) recursive menu loop prevention → depth limiting" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) recursive menu loop prevention → depth limiting" time="0.016">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) character encoding issues → menu display correction" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) character encoding issues → menu display correction" time="0.008">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) timezone calculation errors → menu timing corrections" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) timezone calculation errors → menu timing corrections" time="0.011">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) subscription validation failures → permission-based menus" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) subscription validation failures → permission-based menus" time="0.012">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) profile incomplete errors → menu restriction enforcement" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) profile incomplete errors → menu restriction enforcement" time="0.011">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) language translation failures → menu fallback handling" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) language translation failures → menu fallback handling" time="0.009">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) image loading failures → menu text-only fallbacks" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) image loading failures → menu text-only fallbacks" time="0.01">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) button limit exceeded → menu pagination" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) button limit exceeded → menu pagination" time="0.01">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) malformed JSON responses → menu parsing error recovery" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) malformed JSON responses → menu parsing error recovery" time="0.008">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) external service timeout → menu async error handling" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) external service timeout → menu async error handling" time="0.009">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) user input sanitization → menu injection prevention" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Error Recovery (23 tests) user input sanitization → menu injection prevention" time="0.016">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) clears expired sessions automatically after timeout" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) clears expired sessions automatically after timeout" time="0.01">
      <failure>ReferenceError: Session is not defined
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1355:7)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) breadcrumb navigation → multi-level back functionality" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) breadcrumb navigation → multi-level back functionality" time="0.01">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) quick access bookmarks → favorite menu shortcuts" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) quick access bookmarks → favorite menu shortcuts" time="0.009">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) recent path memory → frequently used path shortcuts" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) recent path memory → frequently used path shortcuts" time="0.01">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) return to last menu position persistence" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) return to last menu position persistence" time="0.01">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) session isolation between concurrent users" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) session isolation between concurrent users" time="0.012">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) menu state synchronization across devices" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) menu state synchronization across devices" time="0.012">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) automatic session cleanup on logout" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) automatic session cleanup on logout" time="0.011">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) session state recovery after app restart" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) session state recovery after app restart" time="0.011">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) idle timeout warnings and grace periods" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) idle timeout warnings and grace periods" time="0.012">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) session migration between phone numbers" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) session migration between phone numbers" time="0.011">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) multi-tab session handling and conflicts" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) multi-tab session handling and conflicts" time="0.01">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) session export and import capabilities" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) session export and import capabilities" time="0.009">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) audit logging of session activities" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Session Management (14 tests) audit logging of session activities" time="0.01">
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Chinese astrology → Bazi compatibility analysis" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Chinese astrology → Bazi compatibility analysis" time="0.13">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Analyzing Bazi compatibility.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1450:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Kabbalistic astrology → Tree of Life analysis" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Kabbalistic astrology → Tree of Life analysis" time="0.076">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Exploring your Tree of Life placement.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1458:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Mayan astrology → Kin analysis" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Mayan astrology → Kin analysis" time="0.068">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Analyzing your Mayan day sign energy.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1466:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Celtic astrology → Ogham reading" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Celtic astrology → Ogham reading" time="0.074">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Drawing your Celtic Ogham symbol.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1474:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Hellenistic astrology → Arabian Parts" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Hellenistic astrology → Arabian Parts" time="0.201">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Calculating Arabian Parts (lots).&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1482:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Islamic astrology → Falak analysis" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Islamic astrology → Falak analysis" time="0.109">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Performing astronomical calculations.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1490:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Palmistry → Life line analysis" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Palmistry → Life line analysis" time="0.084">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Examining your life line for longevity and vitality.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1499:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Medical astrology → Planetary rulers" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Medical astrology → Planetary rulers" time="0.104">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Analyzing which planets rule your health.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1507:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Mundane astrology → World transits" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Mundane astrology → World transits" time="0.147">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Examining planetary movements affecting world events.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1515:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Horary astrology → Question analysis" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Horary astrology → Question analysis" time="0.136">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Please ask your specific question for horary analysis.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1523:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Astrocartography → Jupiter lines" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Astrocartography → Jupiter lines" time="0.082">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Showing locations where Jupiter influences your life.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1531:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Career astrology → MC analysis" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Career astrology → MC analysis" time="0.078">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Analyzing your MC (Midheaven) for career insights.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1539:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Financial astrology → Venus/Jupiter analysis" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Financial astrology → Venus/Jupiter analysis" time="0.085">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Examining your Venus and Jupiter for money attitudes.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1547:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Family astrology → Parent-child dynamics" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Family astrology → Parent-child dynamics" time="0.082">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Analyzing 4th and 10th house relationships.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1555:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Nadi astrology → Ancient leaf readings" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Nadi astrology → Ancient leaf readings" time="0.09">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Initiating Nadi palm leaf analysis.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1563:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Marketplace → Personalized crystals" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Marketplace → Personalized crystals" time="0.109">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Getting crystal recommendations based on your chart.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1572:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Support → Live chat" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Support → Live chat" time="0.087">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Opening live chat with an astrologer.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1580:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Language settings → Arabic selection" name="MENU NAVIGATION INTEGRATION: Complete Menu Tree Validation Additional Specialized Menu Navigation (16 tests for complete 99 total coverage) should navigate to Language settings → Arabic selection" time="0.09">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+menu_test_user&quot;, StringContaining &quot;Language changed to Arabic.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/menu-navigation.integration.test.js:1589:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
  </testsuite>
  <testsuite name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios)" errors="0" failures="34" skipped="0" timestamp="2025-10-28T17:09:29" time="13.599" tests="44">
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_001: Connection Pool Management - Automatic Connection Reuse" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_001: Connection Pool Management - Automatic Connection Reuse" time="2.08">
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_002: Connection Timeout Handling - Graceful Degradation" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_002: Connection Timeout Handling - Graceful Degradation" time="0.025">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: 3
Received: 0
    at Object.toBe (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:97:30)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_003: Connection Recovery - Automatic Reconnection After Network Issues" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_003: Connection Recovery - Automatic Reconnection After Network Issues" time="0.014">
      <failure>Error: MongoNetworkError: connection timed out
    at Db.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:114:17)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-mock/build/index.js:397:39
    at Db.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-mock/build/index.js:404:13)
    at Db.mockConstructor [as collection] (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-mock/build/index.js:148:19)
    at Object.collection (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:120:33)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_004: Connection Pool Exhaustion - Max Pool Size Handling" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_004: Connection Pool Exhaustion - Max Pool Size Handling" time="0.933">
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_005: SSL/TLS Connection Validation - Secure Connection Testing" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_005: SSL/TLS Connection Validation - Secure Connection Testing" time="0.028">
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_006: Authentication Mechanism Validation - Credential Rotation" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_006: Authentication Mechanism Validation - Credential Rotation" time="0.029">
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_007: Connection Monitoring - Metrics Collection" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_007: Connection Monitoring - Metrics Collection" time="0.032">
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_008: Replica Set Failover - Multi-Node Recovery" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_008: Replica Set Failover - Multi-Node Recovery" time="0.015">
      <failure>MongoServerError: not running with --replSet
    at Connection.sendCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:559:17)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Connection.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:633:22)
    at Server.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/sdam/server.ts:350:21)
    at tryOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:289:24)
    at executeOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:119:12)
    at Db.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/db.ts:275:12)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:217:29)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_009: Connection Health Checks - Proactive Monitoring" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_009: Connection Health Checks - Proactive Monitoring" time="0.545">
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_010: Connection State Management - Connection Cleanup" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_010: Connection State Management - Connection Cleanup" time="0.013">
      <failure>BSONError: Cannot convert circular structure to BSON
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:283:11)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:295:20)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at Object.serialize (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/bson.ts:108:30)
    at OpMsgRequest.serializeBson (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:617:17)
    at OpMsgRequest.makeSections (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:577:33)
    at OpMsgRequest.toBin (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:559:25)
    at Connection.writeCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:705:53)
    at Connection.sendWire (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:464:18)
    at sendWire.next (&lt;anonymous&gt;)
    at Connection.sendCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:542:18)
    at sendCommand.next (&lt;anonymous&gt;)
    at Connection.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:633:22)
    at Server.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/sdam/server.ts:350:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at tryOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:289:24)
    at executeOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:119:12)
    at Collection.insertOne (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:294:12)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:262:9)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_011: Firewall and Network ACL Testing" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_011: Firewall and Network ACL Testing" time="0.042">
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_012: Database Migration Connection Handling" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_012: Database Migration Connection Handling" time="0.027">
      <failure>MongoBulkWriteError: Cannot convert circular structure to BSON
    at executeCommands (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:581:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1190:16
    at MongoClient.withSession (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/mongo_client.ts:949:14)
    at OrderedBulkOperation.execute (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1189:14)
    at Collection.bulkWrite (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:391:12)
    at Collection.insertMany (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:324:19)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:312:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_013: Database Backup Connection Compatibility" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_013: Database Backup Connection Compatibility" time="0.017">
      <failure>MongoBulkWriteError: Cannot convert circular structure to BSON
    at executeCommands (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:581:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1190:16
    at MongoClient.withSession (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/mongo_client.ts:949:14)
    at OrderedBulkOperation.execute (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1189:14)
    at Collection.bulkWrite (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:391:12)
    at Collection.insertMany (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:324:19)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:360:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_014: Connection Encryption Validation - Data in Transit" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_014: Connection Encryption Validation - Data in Transit" time="0.027">
      <failure>BSONError: Cannot convert circular structure to BSON
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:283:11)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:295:20)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at Object.serialize (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/bson.ts:108:30)
    at OpMsgRequest.serializeBson (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:617:17)
    at OpMsgRequest.makeSections (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:577:33)
    at OpMsgRequest.toBin (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:559:25)
    at Connection.writeCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:705:53)
    at Connection.sendWire (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:464:18)
    at sendWire.next (&lt;anonymous&gt;)
    at Connection.sendCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:542:18)
    at sendCommand.next (&lt;anonymous&gt;)
    at Connection.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:633:22)
    at Server.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/sdam/server.ts:350:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at tryOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:289:24)
    at executeOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:119:12)
    at Collection.insertOne (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:294:12)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:409:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_015: Multi-Database Transaction Coordination" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE CONNECTION LIFECYCLE (15/15 Scenarios) DB_CONNECTION_015: Multi-Database Transaction Coordination" time="0.253">
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) TRANSACTION CONSISTENCY (10/10 Scenarios) DB_TRANSACTION_016: Atomic User Profile Updates - Rollback on Failure" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) TRANSACTION CONSISTENCY (10/10 Scenarios) DB_TRANSACTION_016: Atomic User Profile Updates - Rollback on Failure" time="0.078">
      <failure>TypeError: Cannot read properties of null (reading &apos;preferences&apos;)
    at Object.preferences (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:489:24)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) TRANSACTION CONSISTENCY (10/10 Scenarios) DB_TRANSACTION_017: Astrological Reading Consistency - Multi-Step Calculations" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) TRANSACTION CONSISTENCY (10/10 Scenarios) DB_TRANSACTION_017: Astrological Reading Consistency - Multi-Step Calculations" time="0.037">
      <failure>BSONError: Cannot convert circular structure to BSON
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:283:11)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:295:20)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at Object.serialize (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/bson.ts:108:30)
    at OpMsgRequest.serializeBson (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:617:17)
    at OpMsgRequest.makeSections (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:577:33)
    at OpMsgRequest.toBin (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:559:25)
    at Connection.writeCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:705:53)
    at Connection.sendWire (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:464:18)
    at sendWire.next (&lt;anonymous&gt;)
    at Connection.sendCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:542:18)
    at sendCommand.next (&lt;anonymous&gt;)
    at Connection.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:633:22)
    at Server.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/sdam/server.ts:350:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at tryOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:289:24)
    at executeOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:119:12)
    at Collection.insertOne (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:294:12)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:514:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) TRANSACTION CONSISTENCY (10/10 Scenarios) DB_TRANSACTION_018: User Session Data Consistency - Concurrent Access" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) TRANSACTION CONSISTENCY (10/10 Scenarios) DB_TRANSACTION_018: User Session Data Consistency - Concurrent Access" time="0.048">
      <failure>BSONError: Cannot convert circular structure to BSON
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:283:11)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:295:20)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at Object.serialize (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/bson.ts:108:30)
    at OpMsgRequest.serializeBson (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:617:17)
    at OpMsgRequest.makeSections (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:577:33)
    at OpMsgRequest.toBin (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:559:25)
    at Connection.writeCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:705:53)
    at Connection.sendWire (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:464:18)
    at sendWire.next (&lt;anonymous&gt;)
    at Connection.sendCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:542:18)
    at sendCommand.next (&lt;anonymous&gt;)
    at Connection.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:633:22)
    at Server.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/sdam/server.ts:350:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at tryOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:289:24)
    at executeOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:119:12)
    at Collection.updateOne (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:410:12)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:543:9
    at async Promise.all (index 0)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:553:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) TRANSACTION CONSISTENCY (10/10 Scenarios) DB_TRANSACTION_019: Database Index Consistency - Query Performance" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) TRANSACTION CONSISTENCY (10/10 Scenarios) DB_TRANSACTION_019: Database Index Consistency - Query Performance" time="0.133">
      <failure>BSONError: Cannot convert circular structure to BSON
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:283:11)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:295:20)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at Object.serialize (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/bson.ts:108:30)
    at OpMsgRequest.serializeBson (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:617:17)
    at OpMsgRequest.makeSections (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:577:33)
    at OpMsgRequest.toBin (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:559:25)
    at Connection.writeCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:705:53)
    at Connection.sendWire (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:464:18)
    at sendWire.next (&lt;anonymous&gt;)
    at Connection.sendCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:542:18)
    at sendCommand.next (&lt;anonymous&gt;)
    at Connection.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:633:22)
    at Server.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/sdam/server.ts:350:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at tryOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:289:24)
    at executeOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:119:12)
    at Collection.createIndex (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:640:21)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:569:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) TRANSACTION CONSISTENCY (10/10 Scenarios) DB_TRANSACTION_020: Cross-Collection Data Integrity - Referential Constraints" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) TRANSACTION CONSISTENCY (10/10 Scenarios) DB_TRANSACTION_020: Cross-Collection Data Integrity - Referential Constraints" time="0.026">
      <failure>BSONError: Cannot convert circular structure to BSON
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:283:11)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:295:20)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at Object.serialize (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/bson.ts:108:30)
    at OpMsgRequest.serializeBson (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:617:17)
    at OpMsgRequest.makeSections (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:577:33)
    at OpMsgRequest.toBin (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:559:25)
    at Connection.writeCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:705:53)
    at Connection.sendWire (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:464:18)
    at sendWire.next (&lt;anonymous&gt;)
    at Connection.sendCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:542:18)
    at sendCommand.next (&lt;anonymous&gt;)
    at Connection.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:633:22)
    at Server.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/sdam/server.ts:350:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at tryOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:289:24)
    at executeOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:119:12)
    at Collection.insertOne (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:294:12)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:607:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) TRANSACTION CONSISTENCY (10/10 Scenarios) DB_TRANSACTION_021: Database Lock Management - Deadlock Prevention" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) TRANSACTION CONSISTENCY (10/10 Scenarios) DB_TRANSACTION_021: Database Lock Management - Deadlock Prevention" time="0.02">
      <failure>MongoBulkWriteError: Cannot convert circular structure to BSON
    at executeCommands (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:581:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1190:16
    at MongoClient.withSession (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/mongo_client.ts:949:14)
    at OrderedBulkOperation.execute (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1189:14)
    at Collection.bulkWrite (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:391:12)
    at Collection.insertMany (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:324:19)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:656:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) TRANSACTION CONSISTENCY (10/10 Scenarios) DB_TRANSACTION_022: Database Backup Transaction Consistency" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) TRANSACTION CONSISTENCY (10/10 Scenarios) DB_TRANSACTION_022: Database Backup Transaction Consistency" time="0.019">
      <failure>BSONError: Cannot convert circular structure to BSON
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:283:11)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:295:20)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at Object.serialize (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/bson.ts:108:30)
    at OpMsgRequest.serializeBson (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:617:17)
    at OpMsgRequest.makeSections (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:577:33)
    at OpMsgRequest.toBin (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:559:25)
    at Connection.writeCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:705:53)
    at Connection.sendWire (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:464:18)
    at sendWire.next (&lt;anonymous&gt;)
    at Connection.sendCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:542:18)
    at sendCommand.next (&lt;anonymous&gt;)
    at Connection.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:633:22)
    at Server.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/sdam/server.ts:350:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at tryOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:289:24)
    at executeOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:119:12)
    at Collection.insertOne (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:294:12)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:718:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) TRANSACTION CONSISTENCY (10/10 Scenarios) DB_TRANSACTION_023: Database Migration Data Consistency" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) TRANSACTION CONSISTENCY (10/10 Scenarios) DB_TRANSACTION_023: Database Migration Data Consistency" time="0.02">
      <failure>MongoBulkWriteError: Cannot convert circular structure to BSON
    at executeCommands (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:581:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1190:16
    at MongoClient.withSession (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/mongo_client.ts:949:14)
    at OrderedBulkOperation.execute (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1189:14)
    at Collection.bulkWrite (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:391:12)
    at Collection.insertMany (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:324:19)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:750:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_024: Data Type Validation - Schema Enforcement" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_024: Data Type Validation - Schema Enforcement" time="0.031">
      <failure>BSONError: Cannot convert circular structure to BSON
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:283:11)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:295:20)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at Object.serialize (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/bson.ts:108:30)
    at OpMsgRequest.serializeBson (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:617:17)
    at OpMsgRequest.makeSections (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:577:33)
    at OpMsgRequest.toBin (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:559:25)
    at Connection.writeCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:705:53)
    at Connection.sendWire (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:464:18)
    at sendWire.next (&lt;anonymous&gt;)
    at Connection.sendCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:542:18)
    at sendCommand.next (&lt;anonymous&gt;)
    at Connection.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:633:22)
    at Server.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/sdam/server.ts:350:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at tryOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:289:24)
    at executeOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:119:12)
    at Collection.insertOne (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:294:12)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:808:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_025: Unique Constraint Validation - Duplicate Prevention" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_025: Unique Constraint Validation - Duplicate Prevention" time="0.028">
      <failure>BSONError: Cannot convert circular structure to BSON
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:283:11)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:295:20)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at Object.serialize (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/bson.ts:108:30)
    at OpMsgRequest.serializeBson (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:617:17)
    at OpMsgRequest.makeSections (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:577:33)
    at OpMsgRequest.toBin (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:559:25)
    at Connection.writeCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:705:53)
    at Connection.sendWire (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:464:18)
    at sendWire.next (&lt;anonymous&gt;)
    at Connection.sendCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:542:18)
    at sendCommand.next (&lt;anonymous&gt;)
    at Connection.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:633:22)
    at Server.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/sdam/server.ts:350:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at tryOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:289:24)
    at executeOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:119:12)
    at Collection.createIndex (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:640:21)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:827:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_026: Foreign Key Relationship Integrity" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_026: Foreign Key Relationship Integrity" time="0.029">
      <failure>BSONError: Cannot convert circular structure to BSON
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:283:11)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:295:20)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at Object.serialize (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/bson.ts:108:30)
    at OpMsgRequest.serializeBson (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:617:17)
    at OpMsgRequest.makeSections (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:577:33)
    at OpMsgRequest.toBin (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:559:25)
    at Connection.writeCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:705:53)
    at Connection.sendWire (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:464:18)
    at sendWire.next (&lt;anonymous&gt;)
    at Connection.sendCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:542:18)
    at sendCommand.next (&lt;anonymous&gt;)
    at Connection.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:633:22)
    at Server.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/sdam/server.ts:350:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at tryOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:289:24)
    at executeOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:119:12)
    at Collection.insertOne (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:294:12)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:861:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_027: Data Range Validation - Boundary Testing" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_027: Data Range Validation - Boundary Testing" time="0.025">
      <failure>BSONError: Cannot convert circular structure to BSON
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:283:11)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:295:20)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at Object.serialize (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/bson.ts:108:30)
    at OpMsgRequest.serializeBson (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:617:17)
    at OpMsgRequest.makeSections (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:577:33)
    at OpMsgRequest.toBin (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:559:25)
    at Connection.writeCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:705:53)
    at Connection.sendWire (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:464:18)
    at sendWire.next (&lt;anonymous&gt;)
    at Connection.sendCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:542:18)
    at sendCommand.next (&lt;anonymous&gt;)
    at Connection.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:633:22)
    at Server.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/sdam/server.ts:350:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at tryOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:289:24)
    at executeOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:119:12)
    at Collection.insertOne (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:294:12)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:905:9)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_028: Mandatory Field Validation - Required Data" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_028: Mandatory Field Validation - Required Data" time="0.035">
      <failure>MongoBulkWriteError: Cannot convert circular structure to BSON
    at executeCommands (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:581:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1190:16
    at MongoClient.withSession (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/mongo_client.ts:949:14)
    at OrderedBulkOperation.execute (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1189:14)
    at Collection.bulkWrite (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:391:12)
    at Collection.insertMany (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:324:19)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:932:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_029: Data Consistency Across Updates - State Transitions" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_029: Data Consistency Across Updates - State Transitions" time="0.152">
      <failure>BSONError: Cannot convert circular structure to BSON
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:283:11)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:295:20)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at Object.serialize (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/bson.ts:108:30)
    at OpMsgRequest.serializeBson (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:617:17)
    at OpMsgRequest.makeSections (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:577:33)
    at OpMsgRequest.toBin (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:559:25)
    at Connection.writeCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:705:53)
    at Connection.sendWire (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:464:18)
    at sendWire.next (&lt;anonymous&gt;)
    at Connection.sendCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:542:18)
    at sendCommand.next (&lt;anonymous&gt;)
    at Connection.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:633:22)
    at Server.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/sdam/server.ts:350:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at tryOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:289:24)
    at executeOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:119:12)
    at Collection.insertOne (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:294:12)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:960:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_030: Data Corruption Detection - Checksum Validation" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_030: Data Corruption Detection - Checksum Validation" time="0.06">
      <failure>MongoBulkWriteError: Cannot convert circular structure to BSON
    at executeCommands (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:581:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1190:16
    at MongoClient.withSession (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/mongo_client.ts:949:14)
    at OrderedBulkOperation.execute (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1189:14)
    at Collection.bulkWrite (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:391:12)
    at Collection.insertMany (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:324:19)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:1017:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_031: Temporal Data Integrity - Time-Based Validation" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_031: Temporal Data Integrity - Time-Based Validation" time="0.062">
      <failure>MongoBulkWriteError: Cannot convert circular structure to BSON
    at executeCommands (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:581:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1190:16
    at MongoClient.withSession (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/mongo_client.ts:949:14)
    at OrderedBulkOperation.execute (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1189:14)
    at Collection.bulkWrite (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:391:12)
    at Collection.insertMany (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:324:19)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:1062:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_032: Concurrent Modification Conflict Resolution" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATA INTEGRITY CHECKS (9/9 Scenarios) DB_INTEGRITY_032: Concurrent Modification Conflict Resolution" time="0.031">
      <failure>BSONError: Cannot convert circular structure to BSON
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:283:11)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:295:20)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at Object.serialize (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/bson.ts:108:30)
    at OpMsgRequest.serializeBson (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:617:17)
    at OpMsgRequest.makeSections (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:577:33)
    at OpMsgRequest.toBin (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:559:25)
    at Connection.writeCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:705:53)
    at Connection.sendWire (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:464:18)
    at sendWire.next (&lt;anonymous&gt;)
    at Connection.sendCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:542:18)
    at sendCommand.next (&lt;anonymous&gt;)
    at Connection.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:633:22)
    at Server.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/sdam/server.ts:350:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at tryOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:289:24)
    at executeOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:119:12)
    at Collection.insertOne (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:294:12)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:1101:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_033: Query Execution Time Optimization" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_033: Query Execution Time Optimization" time="0.287">
      <failure>MongoBulkWriteError: Cannot convert circular structure to BSON
    at executeCommands (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:581:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1190:16
    at MongoClient.withSession (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/mongo_client.ts:949:14)
    at OrderedBulkOperation.execute (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1189:14)
    at Collection.bulkWrite (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:391:12)
    at Collection.insertMany (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:324:19)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:1152:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_034: Index Effectiveness Validation" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_034: Index Effectiveness Validation" time="0.063">
      <failure>MongoBulkWriteError: Cannot convert circular structure to BSON
    at executeCommands (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:581:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1190:16
    at MongoClient.withSession (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/mongo_client.ts:949:14)
    at OrderedBulkOperation.execute (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1189:14)
    at Collection.bulkWrite (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:391:12)
    at Collection.insertMany (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:324:19)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:1190:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_035: Connection Pool Efficiency Monitoring" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_035: Connection Pool Efficiency Monitoring" time="0.122">
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_036: Memory Usage Optimization" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_036: Memory Usage Optimization" time="0.303">
      <failure>MongoBulkWriteError: Cannot convert circular structure to BSON
    at executeCommands (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:581:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1190:16
    at MongoClient.withSession (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/mongo_client.ts:949:14)
    at OrderedBulkOperation.execute (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1189:14)
    at Collection.bulkWrite (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:391:12)
    at Collection.insertMany (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:324:19)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:1267:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_037: Database Backup Performance Testing" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_037: Database Backup Performance Testing" time="0.278">
      <failure>MongoBulkWriteError: Cannot convert circular structure to BSON
    at executeCommands (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:581:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1190:16
    at MongoClient.withSession (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/mongo_client.ts:949:14)
    at OrderedBulkOperation.execute (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1189:14)
    at Collection.bulkWrite (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:391:12)
    at Collection.insertMany (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:324:19)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:1302:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_038: Database Migration Performance" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_038: Database Migration Performance" time="0.113">
      <failure>MongoBulkWriteError: Cannot convert circular structure to BSON
    at executeCommands (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:581:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1190:16
    at MongoClient.withSession (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/mongo_client.ts:949:14)
    at OrderedBulkOperation.execute (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1189:14)
    at Collection.bulkWrite (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:391:12)
    at Collection.insertMany (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:324:19)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:1344:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_039: Aggregation Pipeline Efficiency" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_039: Aggregation Pipeline Efficiency" time="0.04">
      <failure>MongoBulkWriteError: Cannot convert circular structure to BSON
    at executeCommands (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:581:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1190:16
    at MongoClient.withSession (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/mongo_client.ts:949:14)
    at OrderedBulkOperation.execute (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1189:14)
    at Collection.bulkWrite (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:391:12)
    at Collection.insertMany (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:324:19)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:1387:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_040: Concurrent Read Performance" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_040: Concurrent Read Performance" time="0.029">
      <failure>MongoBulkWriteError: Cannot convert circular structure to BSON
    at executeCommands (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:581:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1190:16
    at MongoClient.withSession (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/mongo_client.ts:949:14)
    at OrderedBulkOperation.execute (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1189:14)
    at Collection.bulkWrite (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:391:12)
    at Collection.insertMany (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:324:19)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:1436:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_041: Write Throughput Testing" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_041: Write Throughput Testing" time="0.035">
      <failure>MongoBulkWriteError: Cannot convert circular structure to BSON
    at executeCommands (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:581:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1190:16
    at MongoClient.withSession (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/mongo_client.ts:949:14)
    at OrderedBulkOperation.execute (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1189:14)
    at Collection.bulkWrite (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:391:12)
    at Collection.insertMany (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:324:19)
    at async Promise.all (index 0)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:1480:28)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_042: Database Locking and Contention" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_042: Database Locking and Contention" time="0.04">
      <failure>BSONError: Cannot convert circular structure to BSON
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:283:11)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at serializeObject (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:295:20)
    at serializeInto (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/parser/serializer.ts:887:19)
    at Object.serialize (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/bson/src/bson.ts:108:30)
    at OpMsgRequest.serializeBson (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:617:17)
    at OpMsgRequest.makeSections (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:577:33)
    at OpMsgRequest.toBin (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/commands.ts:559:25)
    at Connection.writeCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:705:53)
    at Connection.sendWire (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:464:18)
    at sendWire.next (&lt;anonymous&gt;)
    at Connection.sendCommand (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:542:18)
    at sendCommand.next (&lt;anonymous&gt;)
    at Connection.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/cmap/connection.ts:633:22)
    at Server.command (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/sdam/server.ts:350:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at tryOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:289:24)
    at executeOperation (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/operations/execute_operation.ts:119:12)
    at Collection.insertOne (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:294:12)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:1504:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_043: Caching Layer Performance" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_043: Caching Layer Performance" time="1.651">
    </testcase>
    <testcase classname="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_044: Database Recovery Performance" name="DATABASE OPERATIONS: Complete Database Testing Suite (34 Scenarios) DATABASE PERFORMANCE (12/12 Scenarios) DB_PERFORMANCE_044: Database Recovery Performance" time="0.027">
      <failure>MongoBulkWriteError: Cannot convert circular structure to BSON
    at executeCommands (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:581:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at /Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1190:16
    at MongoClient.withSession (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/mongo_client.ts:949:14)
    at OrderedBulkOperation.execute (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/bulk/common.ts:1189:14)
    at Collection.bulkWrite (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:391:12)
    at Collection.insertMany (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/mongodb/src/collection.ts:324:19)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/database/database-operations.test.js:1587:7)</failure>
    </testcase>
  </testsuite>
  <testsuite name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey" errors="0" failures="26" skipped="0" timestamp="2025-10-28T17:09:45" time="6.42" tests="26">
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Input Validation Scenarios (Birth Date and Time) (8 tests) handles invalid date formats (abc123 → error message)" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Input Validation Scenarios (Birth Date and Time) (8 tests) handles invalid date formats (abc123 → error message)" time="0.502">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Please provide date in DDMMYY (150690) or DDMMYYYY (15061990) format only&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:51:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Input Validation Scenarios (Birth Date and Time) (8 tests) rejects future dates (31122025 → rejection)" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Input Validation Scenarios (Birth Date and Time) (8 tests) rejects future dates (31122025 → rejection)" time="0.035">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Birth date cannot be in the future. Please enter your actual birth date.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:64:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Input Validation Scenarios (Birth Date and Time) (8 tests) auto-corrects malformed date (15/06/90 → 150690) and proceeds" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Input Validation Scenarios (Birth Date and Time) (8 tests) auto-corrects malformed date (15/06/90 → 150690) and proceeds" time="0.03">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Now, please provide your birth time&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:81:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Input Validation Scenarios (Birth Date and Time) (8 tests) accepts very old valid dates (01011800) and proceeds" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Input Validation Scenarios (Birth Date and Time) (8 tests) accepts very old valid dates (01011800) and proceeds" time="0.029">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Now, please provide your birth time&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:98:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Input Validation Scenarios (Birth Date and Time) (8 tests) shows error for literal date format text (DDMMYY) and re-prompts" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Input Validation Scenarios (Birth Date and Time) (8 tests) shows error for literal date format text (DDMMYY) and re-prompts" time="0.033">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Please provide date in DDMMYY (150690) or DDMMYYYY (15061990) format only&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:115:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Input Validation Scenarios (Birth Date and Time) (8 tests) rejects time in colon format (9:30 → error)" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Input Validation Scenarios (Birth Date and Time) (8 tests) rejects time in colon format (9:30 → error)" time="0.04">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Please use 24-hour format without colon: 0930&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:132:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Input Validation Scenarios (Birth Date and Time) (8 tests) rejects invalid hour (2530 → validation error)" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Input Validation Scenarios (Birth Date and Time) (8 tests) rejects invalid hour (2530 → validation error)" time="0.038">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Hour must be between 00-23&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:147:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Input Validation Scenarios (Birth Date and Time) (8 tests) rejects invalid minutes (2460 → validation error)" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Input Validation Scenarios (Birth Date and Time) (8 tests) rejects invalid minutes (2460 → validation error)" time="0.035">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Minutes must be between 00-59&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:162:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Time Handling Scenarios (Time Skip and Auto-formatting) (4 tests) auto-formats short time input (930 → 0930) and proceeds" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Time Handling Scenarios (Time Skip and Auto-formatting) (4 tests) auto-formats short time input (930 → 0930) and proceeds" time="0.159">
      <failure>TypeError: Cannot read properties of null (reading &apos;birthTime&apos;)
    at Object.birthTime (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:181:19)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Time Handling Scenarios (Time Skip and Auto-formatting) (4 tests) recognizes &quot;skip&quot; (all lowercase) for time prompt and proceeds to location" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Time Handling Scenarios (Time Skip and Auto-formatting) (4 tests) recognizes &quot;skip&quot; (all lowercase) for time prompt and proceeds to location" time="0.05">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Please confirm your birth location&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:197:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Time Handling Scenarios (Time Skip and Auto-formatting) (4 tests) recognizes &quot;Skip&quot; (capitalized) for time prompt and proceeds to location" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Time Handling Scenarios (Time Skip and Auto-formatting) (4 tests) recognizes &quot;Skip&quot; (capitalized) for time prompt and proceeds to location" time="0.029">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Please confirm your birth location&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:214:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Time Handling Scenarios (Time Skip and Auto-formatting) (4 tests) recognizes &quot;SKIP&quot; (uppercase) for time prompt and proceeds to location" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Time Handling Scenarios (Time Skip and Auto-formatting) (4 tests) recognizes &quot;SKIP&quot; (uppercase) for time prompt and proceeds to location" time="0.027">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Please confirm your birth location&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:231:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Time Handling Scenarios (Time Skip and Auto-formatting) (4 tests) does not recognize mixed response &quot;maybe skip&quot; and prompts for clarification" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Time Handling Scenarios (Time Skip and Auto-formatting) (4 tests) does not recognize mixed response &quot;maybe skip&quot; and prompts for clarification" time="0.031">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Please provide time in HHMM format&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:248:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Location/Geocoding Scenarios (5 tests) handles invalid city &quot;Atlantis, Pacific&quot; with geocoding error handling and re-prompt" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Location/Geocoding Scenarios (5 tests) handles invalid city &quot;Atlantis, Pacific&quot; with geocoding error handling and re-prompt" time="0.044">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Could not find location for \&quot;Atlantis, Pacific\&quot;. Please try again or enter a more specific location.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:271:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Location/Geocoding Scenarios (5 tests) integrates real geocoding with profile completion for valid location" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Location/Geocoding Scenarios (5 tests) integrates real geocoding with profile completion for valid location" time="0.077">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Please confirm your details&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:290:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Location/Geocoding Scenarios (5 tests) correctly handles timezone calculation for birth location (e.g., Delhi)" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Location/Geocoding Scenarios (5 tests) correctly handles timezone calculation for birth location (e.g., Delhi)" time="0.047">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Please confirm your details&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:310:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Location/Geocoding Scenarios (5 tests) correctly handles DST consideration in birth time for a specific location and date" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Location/Geocoding Scenarios (5 tests) correctly handles DST consideration in birth time for a specific location and date" time="0.052">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Please confirm your details&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:333:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Location/Geocoding Scenarios (5 tests) validates international location geocoding via Google Maps API (e.g., Sydney, Australia)" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Location/Geocoding Scenarios (5 tests) validates international location geocoding via Google Maps API (e.g., Sydney, Australia)" time="0.053">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Please confirm your details&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:355:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Language Selection Scenarios (4 tests) defaults to English for invalid language codes (e.g., &quot;invalid&quot;)" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Language Selection Scenarios (4 tests) defaults to English for invalid language codes (e.g., &quot;invalid&quot;)" time="0.021">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Unsupported language. Please choose from available options:&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:369:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Language Selection Scenarios (4 tests) lists available options for unsupported language (e.g., &quot;Klingon&quot;)" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Language Selection Scenarios (4 tests) lists available options for unsupported language (e.g., &quot;Klingon&quot;)" time="0.024">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Unsupported language. Please choose from available options:&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:380:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Language Selection Scenarios (4 tests) handles language change mid-flow (profile update + language switch)" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Language Selection Scenarios (4 tests) handles language change mid-flow (profile update + language switch)" time="0.041">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;¡Hola! Bienvenido al bot&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:397:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Language Selection Scenarios (4 tests) activates Hindi interface for emoji response &quot;🇮🇳 हिंदी&quot;" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Language Selection Scenarios (4 tests) activates Hindi interface for emoji response &quot;🇮🇳 हिंदी&quot;" time="0.039">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;नमस्ते! ज्योतिष बॉट में आपका स्वागत है।&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:418:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Profile Confirmation Scenarios (4 tests) returns to date input when &quot;No&quot; is sent during confirmation" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Profile Confirmation Scenarios (4 tests) returns to date input when &quot;No&quot; is sent during confirmation" time="0.081">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Please re-enter your birth date&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:439:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Profile Confirmation Scenarios (4 tests) allows selective field editing for partial profile update" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Profile Confirmation Scenarios (4 tests) allows selective field editing for partial profile update" time="0.078">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Please re-enter your birth date&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:453:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Profile Confirmation Scenarios (4 tests) handles multiple iterations of editing and confirmation in a loop" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Profile Confirmation Scenarios (4 tests) handles multiple iterations of editing and confirmation in a loop" time="0.084">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;Please confirm your updated details&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:477:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Profile Confirmation Scenarios (4 tests) restarts complete flow if confirmation is attempted with missing data (e.g., date was cleared)" name="ONBOARDING FLOW INTEGRATION: Complete User Profile Creation Journey Profile Confirmation Scenarios (4 tests) restarts complete flow if confirmation is attempted with missing data (e.g., date was cleared)" time="0.071">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+onboarding_test&quot;, StringContaining &quot;It seems some crucial information is missing. Let&apos;s start over. Please provide your birth date&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/onboarding-flow.integration.test.js:513:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
  </testsuite>
  <testsuite name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling" errors="0" failures="16" skipped="0" timestamp="2025-10-28T17:09:52" time="6.093" tests="16">
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Menu Interaction Error Recovery (8 tests) should handle invalid action IDs gracefully and restore main menu" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Menu Interaction Error Recovery (8 tests) should handle invalid action IDs gracefully and restore main menu" time="0.661">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+error_test_user&quot;, StringContaining &quot;Sorry, that option is not available. Please try again.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/error-recovery.test.js:59:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Menu Interaction Error Recovery (8 tests) should handle expired session navigation by re-initializing fresh menu" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Menu Interaction Error Recovery (8 tests) should handle expired session navigation by re-initializing fresh menu" time="0.096">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+error_test_user&quot;, StringContaining &quot;Your session has expired. Starting fresh...&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/error-recovery.test.js:79:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Menu Interaction Error Recovery (8 tests) should prevent concurrent access conflicts through session isolation" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Menu Interaction Error Recovery (8 tests) should prevent concurrent access conflicts through session isolation" time="0.234">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+error_test_user&quot;, StringContaining &quot;Please wait for your previous request to be processed.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/error-recovery.test.js:101:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Menu Interaction Error Recovery (8 tests) should recover from menu state corruption and reinitialize" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Menu Interaction Error Recovery (8 tests) should recover from menu state corruption and reinitialize" time="0.069">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+error_test_user&quot;, StringContaining &quot;An unexpected error occurred. Re-initializing your session.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/error-recovery.test.js:118:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Menu Interaction Error Recovery (8 tests) should automatically retry message delivery on network timeout during selection" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Menu Interaction Error Recovery (8 tests) should automatically retry message delivery on network timeout during selection" time="0.078">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+error_test_user&quot;, StringContaining &quot;It seems there was a temporary network issue. Retrying your request...&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/error-recovery.test.js:139:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Menu Interaction Error Recovery (8 tests) should gracefully degrade and recover from network failure mid-navigation" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Menu Interaction Error Recovery (8 tests) should gracefully degrade and recover from network failure mid-navigation" time="0.112">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+error_test_user&quot;, StringContaining &quot;Network connection lost. Attempting to reconnect...&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/error-recovery.test.js:158:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Menu Interaction Error Recovery (8 tests) should maintain state consistency during partial message delivery" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Menu Interaction Error Recovery (8 tests) should maintain state consistency during partial message delivery" time="0.077">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+error_test_user&quot;, StringContaining &quot;I didn&apos;t quite catch that. Could you please repeat or clarify?&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/error-recovery.test.js:176:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Menu Interaction Error Recovery (8 tests) should gracefully degrade and recover from service interruption" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Menu Interaction Error Recovery (8 tests) should gracefully degrade and recover from service interruption" time="0.074">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+error_test_user&quot;, StringContaining &quot;Our astrology calculation service is temporarily unavailable.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/error-recovery.test.js:192:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling API Failure Recovery (8 tests) should handle Google Maps API quota exceeded with fallback coordinate handling" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling API Failure Recovery (8 tests) should handle Google Maps API quota exceeded with fallback coordinate handling" time="0.075">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+error_test_user&quot;, StringContaining &quot;Our location service is currently experiencing high demand.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/error-recovery.test.js:214:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling API Failure Recovery (8 tests) should recover from Google Maps API service outage with offline coordinate caching" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling API Failure Recovery (8 tests) should recover from Google Maps API service outage with offline coordinate caching" time="0.08">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+error_test_user&quot;, StringContaining &quot;Our location service is temporarily unavailable.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/error-recovery.test.js:233:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling API Failure Recovery (8 tests) should implement exponential backoff for Google Maps API rate limiting responses" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling API Failure Recovery (8 tests) should implement exponential backoff for Google Maps API rate limiting responses" time="0.076">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+error_test_user&quot;, StringContaining &quot;Too many requests to location service. Retrying with backoff...&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/error-recovery.test.js:263:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling API Failure Recovery (8 tests) should handle Google Maps API key invalidation with authentication error handling" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling API Failure Recovery (8 tests) should handle Google Maps API key invalidation with authentication error handling" time="0.087">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+error_test_user&quot;, StringContaining &quot;There was an issue with our location service authentication.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/error-recovery.test.js:282:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling API Failure Recovery (8 tests) should use fallback generation methods for Mistral AI response parsing errors" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling API Failure Recovery (8 tests) should use fallback generation methods for Mistral AI response parsing errors" time="0.079">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+error_test_user&quot;, StringContaining &quot;I encountered an issue generating your horoscope.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/error-recovery.test.js:301:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling API Failure Recovery (8 tests) should use alternative content generation for Mistral AI content filtering violations" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling API Failure Recovery (8 tests) should use alternative content generation for Mistral AI content filtering violations" time="0.091">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+error_test_user&quot;, StringContaining &quot;I cannot generate content on that topic directly.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/error-recovery.test.js:320:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling API Failure Recovery (8 tests) should handle Mistral AI model performance degradation with quality threshold handling" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling API Failure Recovery (8 tests) should handle Mistral AI model performance degradation with quality threshold handling" time="0.068">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+error_test_user&quot;, StringContaining &quot;I apologize, the AI model is currently not providing detailed responses.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/error-recovery.test.js:339:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling API Failure Recovery (8 tests) should implement content truncation strategies for Mistral AI token limit exceedances" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling API Failure Recovery (8 tests) should implement content truncation strategies for Mistral AI token limit exceedances" time="0.079">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+error_test_user&quot;, StringContaining &quot;Your reading was too long to send in one message.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/error-recovery.test.js:358:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle generic unexpected errors gracefully" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle generic unexpected errors gracefully" time="0">
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should log all unhandled exceptions for debugging" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should log all unhandled exceptions for debugging" time="0">
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should provide clear instructions for user to recover from unknown errors" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should provide clear instructions for user to recover from unknown errors" time="0">
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should prevent infinite error loops" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should prevent infinite error loops" time="0">
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle invalid user IDs or non-existent users" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle invalid user IDs or non-existent users" time="0">
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle malformed incoming WhatsApp messages" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle malformed incoming WhatsApp messages" time="0">
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should recover from temporary external service unavailability" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should recover from temporary external service unavailability" time="0">
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle database connection errors" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle database connection errors" time="0">
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle file system errors (e.g., logs, temporary files)" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle file system errors (e.g., logs, temporary files)" time="0">
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should provide specific error codes for easier debugging" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should provide specific error codes for easier debugging" time="0">
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should offer a &apos;help&apos; or &apos;reset&apos; command during error states" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should offer a &apos;help&apos; or &apos;reset&apos; command during error states" time="0">
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle errors during user profile creation/update" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle errors during user profile creation/update" time="0">
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle errors during subscription status changes" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle errors during subscription status changes" time="0">
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle errors during payment processing" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle errors during payment processing" time="0">
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle errors during language switching" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle errors during language switching" time="0">
    </testcase>
    <testcase classname="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle errors during timezone calculations" name="ERROR RECOVERY INTEGRATION: Menu, API, and General Error Handling Additional Error Handling Scenarios (16 tests) should handle errors during timezone calculations" time="0">
    </testcase>
  </testsuite>
  <testsuite name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite" errors="0" failures="1" skipped="0" timestamp="2025-10-28T17:09:58" time="4.588" tests="17">
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite NAME ANALYSIS EDGE CASES (6 Scenarios) NUMEROLOGY_001: Special characters and accents handling" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite NAME ANALYSIS EDGE CASES (6 Scenarios) NUMEROLOGY_001: Special characters and accents handling" time="0.622">
      <failure>Error: expect(received).toBeLessThanOrEqual(expected)

Expected: &lt;= 9
Received:    11
    at Object.toBeLessThanOrEqual (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/numerology/numerology-analysis.integration.test.js:65:35)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite NAME ANALYSIS EDGE CASES (6 Scenarios) NUMEROLOGY_002: Names with numbers and symbols" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite NAME ANALYSIS EDGE CASES (6 Scenarios) NUMEROLOGY_002: Names with numbers and symbols" time="0.023">
    </testcase>
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite NAME ANALYSIS EDGE CASES (6 Scenarios) NUMEROLOGY_003: Very short names (1-2 letters)" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite NAME ANALYSIS EDGE CASES (6 Scenarios) NUMEROLOGY_003: Very short names (1-2 letters)" time="0.015">
    </testcase>
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite NAME ANALYSIS EDGE CASES (6 Scenarios) NUMEROLOGY_004: Very long names (100+ characters)" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite NAME ANALYSIS EDGE CASES (6 Scenarios) NUMEROLOGY_004: Very long names (100+ characters)" time="0.023">
    </testcase>
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite NAME ANALYSIS EDGE CASES (6 Scenarios) NUMEROLOGY_005: Non-English names multi-script support" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite NAME ANALYSIS EDGE CASES (6 Scenarios) NUMEROLOGY_005: Non-English names multi-script support" time="0.026">
    </testcase>
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite NAME ANALYSIS EDGE CASES (6 Scenarios) NUMEROLOGY_006: Name changes numerology comparison" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite NAME ANALYSIS EDGE CASES (6 Scenarios) NUMEROLOGY_006: Name changes numerology comparison" time="0.024">
    </testcase>
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_007: Vedic numerology vs Pythagorean algorithm comparison" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_007: Vedic numerology vs Pythagorean algorithm comparison" time="0.029">
    </testcase>
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_008: Chinese numerology integration" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_008: Chinese numerology integration" time="0.016">
    </testcase>
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_009: Hebrew numerology (Gematria)" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_009: Hebrew numerology (Gematria)" time="0.018">
    </testcase>
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_010: Arabic numerology systems" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_010: Arabic numerology systems" time="0.018">
    </testcase>
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_011: Birth date numerology across systems" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_011: Birth date numerology across systems" time="0.015">
    </testcase>
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_012: Destiny number calculations comparison" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_012: Destiny number calculations comparison" time="0.025">
    </testcase>
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_013: Cultural number interpretations" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_013: Cultural number interpretations" time="0.072">
    </testcase>
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_014: Master numbers across cultures" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_014: Master numbers across cultures" time="0.019">
    </testcase>
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_015: Compound numbers in different traditions" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite CULTURAL NUMEROLOGY VARIATIONS (9 Scenarios) NUMEROLOGY_015: Compound numbers in different traditions" time="0.028">
    </testcase>
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite INTEGRATION TESTS: Multiple Systems NUMEROLOGY_INTEGRATION: Complete user journey with system comparison" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite INTEGRATION TESTS: Multiple Systems NUMEROLOGY_INTEGRATION: Complete user journey with system comparison" time="0.038">
    </testcase>
    <testcase classname="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite INTEGRATION TESTS: Multiple Systems NUMEROLOGY_VALIDATION: All systems produce valid numbers" name="NUMEROLOGY ANALYSIS: Complete User Numerology Scenarios Integration Test Suite INTEGRATION TESTS: Multiple Systems NUMEROLOGY_VALIDATION: All systems produce valid numbers" time="0.016">
    </testcase>
  </testsuite>
  <testsuite name="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management" errors="0" failures="15" skipped="0" timestamp="2025-10-28T17:10:03" time="6.016" tests="15">
    <testcase classname="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Provider Integration (5 tests) should handle payment timeout scenarios and offer recovery mechanisms" name="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Provider Integration (5 tests) should handle payment timeout scenarios and offer recovery mechanisms" time="0.711">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+subscription_test_user&quot;, StringContaining &quot;To access this feature, please choose a subscription plan.&quot;

Number of calls: 0
    at toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:38:49)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:48:7)</failure>
    </testcase>
    <testcase classname="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Provider Integration (5 tests) should guide user through payment retry flow for insufficient funds" name="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Provider Integration (5 tests) should guide user through payment retry flow for insufficient funds" time="0.098">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+subscription_test_user&quot;, StringContaining &quot;To access this feature, please choose a subscription plan.&quot;

Number of calls: 0
    at toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:38:49)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:71:7)</failure>
    </testcase>
    <testcase classname="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Provider Integration (5 tests) should perform subscription rollback if payment is cancelled mid-flow" name="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Provider Integration (5 tests) should perform subscription rollback if payment is cancelled mid-flow" time="0.133">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+subscription_test_user&quot;, StringContaining &quot;To access this feature, please choose a subscription plan.&quot;

Number of calls: 0
    at toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:38:49)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:91:7)</failure>
    </testcase>
    <testcase classname="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Provider Integration (5 tests) should handle regional payment restrictions and currency conversion" name="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Provider Integration (5 tests) should handle regional payment restrictions and currency conversion" time="0.073">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+subscription_test_user&quot;, StringContaining &quot;To access this feature, please choose a subscription plan.&quot;

Number of calls: 0
    at toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:38:49)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:111:7)</failure>
    </testcase>
    <testcase classname="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Provider Integration (5 tests) should process multi-currency payments with accurate exchange rate calculations" name="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Provider Integration (5 tests) should process multi-currency payments with accurate exchange rate calculations" time="0.065">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+subscription_test_user&quot;, StringContaining &quot;To access this feature, please choose a subscription plan.&quot;

Number of calls: 0
    at toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:38:49)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:135:7)</failure>
    </testcase>
    <testcase classname="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Subscription State Management (5 tests) should handle plan upgrade during active subscription with prorated billing" name="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Subscription State Management (5 tests) should handle plan upgrade during active subscription with prorated billing" time="0.109">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+subscription_test_user&quot;, StringContaining &quot;To access this feature, please choose a subscription plan.&quot;

Number of calls: 0
    at toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:38:49)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:152:7)</failure>
    </testcase>
    <testcase classname="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Subscription State Management (5 tests) should handle plan downgrade scenarios and credit calculation" name="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Subscription State Management (5 tests) should handle plan downgrade scenarios and credit calculation" time="0.099">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+subscription_test_user&quot;, StringContaining &quot;To access this feature, please choose a subscription plan.&quot;

Number of calls: 0
    at toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:38:49)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:174:7)</failure>
    </testcase>
    <testcase classname="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Subscription State Management (5 tests) should handle subscription renewal failures and grace period" name="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Subscription State Management (5 tests) should handle subscription renewal failures and grace period" time="0.096">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+subscription_test_user&quot;, StringContaining &quot;To access this feature, please choose a subscription plan.&quot;

Number of calls: 0
    at toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:38:49)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:196:7)</failure>
    </testcase>
    <testcase classname="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Subscription State Management (5 tests) should validate multi-device subscription access and account linking" name="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Subscription State Management (5 tests) should validate multi-device subscription access and account linking" time="0.09">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+subscription_test_user&quot;, StringContaining &quot;To access this feature, please choose a subscription plan.&quot;

Number of calls: 0
    at toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:38:49)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:220:7)</failure>
    </testcase>
    <testcase classname="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Subscription State Management (5 tests) should implement subscription pause/resume functionality with billing cycle adjustments" name="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Subscription State Management (5 tests) should implement subscription pause/resume functionality with billing cycle adjustments" time="0.084">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+subscription_test_user&quot;, StringContaining &quot;To access this feature, please choose a subscription plan.&quot;

Number of calls: 0
    at toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:38:49)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:242:7)</failure>
    </testcase>
    <testcase classname="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Method Variations (5 tests) should integrate UPI payment and validate Indian payment flows" name="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Method Variations (5 tests) should integrate UPI payment and validate Indian payment flows" time="0.077">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+subscription_test_user&quot;, StringContaining &quot;To access this feature, please choose a subscription plan.&quot;

Number of calls: 0
    at toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:38:49)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:272:7)</failure>
    </testcase>
    <testcase classname="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Method Variations (5 tests) should handle international card processing with currency conversion" name="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Method Variations (5 tests) should handle international card processing with currency conversion" time="0.091">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+subscription_test_user&quot;, StringContaining &quot;To access this feature, please choose a subscription plan.&quot;

Number of calls: 0
    at toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:38:49)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:285:7)</failure>
    </testcase>
    <testcase classname="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Method Variations (5 tests) should integrate wallet/payment app (e.g., Google Pay) and handle third-party callbacks" name="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Method Variations (5 tests) should integrate wallet/payment app (e.g., Google Pay) and handle third-party callbacks" time="0.077">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+subscription_test_user&quot;, StringContaining &quot;To access this feature, please choose a subscription plan.&quot;

Number of calls: 0
    at toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:38:49)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:298:7)</failure>
    </testcase>
    <testcase classname="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Method Variations (5 tests) should offer cryptocurrency payment options and integrate blockchain transactions" name="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Method Variations (5 tests) should offer cryptocurrency payment options and integrate blockchain transactions" time="0.071">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+subscription_test_user&quot;, StringContaining &quot;To access this feature, please choose a subscription plan.&quot;

Number of calls: 0
    at toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:38:49)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:311:7)</failure>
    </testcase>
    <testcase classname="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Method Variations (5 tests) should process PayPal/Apple Pay payments through alternative payment flows" name="SUBSCRIPTION FLOW INTEGRATION: Payment and Subscription Management Payment Method Variations (5 tests) should process PayPal/Apple Pay payments through alternative payment flows" time="0.081">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+subscription_test_user&quot;, StringContaining &quot;To access this feature, please choose a subscription plan.&quot;

Number of calls: 0
    at toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:38:49)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/subscription-flow.integration.test.js:324:7)</failure>
    </testcase>
  </testsuite>
  <testsuite name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance" errors="0" failures="16" skipped="0" timestamp="2025-10-28T17:10:10" time="27.586" tests="16">
    <testcase classname="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Load Testing Scenarios (8 tests) should handle 1000+ concurrent horoscope requests without database connection exhaustion" name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Load Testing Scenarios (8 tests) should handle 1000+ concurrent horoscope requests without database connection exhaustion" time="1.887">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:28:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:44:9)</failure>
    </testcase>
    <testcase classname="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Load Testing Scenarios (8 tests) should demonstrate heavy calculation load balancing across server resources" name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Load Testing Scenarios (8 tests) should demonstrate heavy calculation load balancing across server resources" time="0.688">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:28:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:57:7)</failure>
    </testcase>
    <testcase classname="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Load Testing Scenarios (8 tests) should enforce API rate limiting and apply request throttling validation" name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Load Testing Scenarios (8 tests) should enforce API rate limiting and apply request throttling validation" time="0.836">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:28:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:73:7)</failure>
    </testcase>
    <testcase classname="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Load Testing Scenarios (8 tests) should detect and prevent database connection exhaustion under high load" name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Load Testing Scenarios (8 tests) should detect and prevent database connection exhaustion under high load" time="11.147">
      <failure>Error: expect(received).toBeGreaterThan(expected)

Expected: &gt; 180
Received:   0
    at Object.toBeGreaterThan (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:104:68)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Load Testing Scenarios (8 tests) should detect memory leak during long-running session monitoring" name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Load Testing Scenarios (8 tests) should detect memory leak during long-running session monitoring" time="0.669">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:28:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:110:7)</failure>
    </testcase>
    <testcase classname="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Load Testing Scenarios (8 tests) should manage CPU intensive calculations and processing resource allocation" name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Load Testing Scenarios (8 tests) should manage CPU intensive calculations and processing resource allocation" time="0.662">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:28:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:126:7)</failure>
    </testcase>
    <testcase classname="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Load Testing Scenarios (8 tests) should monitor disk space for ephemeris data and manage storage capacity" name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Load Testing Scenarios (8 tests) should monitor disk space for ephemeris data and manage storage capacity" time="0.661">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:28:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:146:7)</failure>
    </testcase>
    <testcase classname="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Load Testing Scenarios (8 tests) should optimize network bandwidth for API calls" name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Load Testing Scenarios (8 tests) should optimize network bandwidth for API calls" time="0.632">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:28:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:161:7)</failure>
    </testcase>
    <testcase classname="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Database Performance (8 tests) should efficiently perform complex compatibility calculations for multi-chart comparison" name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Database Performance (8 tests) should efficiently perform complex compatibility calculations for multi-chart comparison" time="0.644">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:28:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:181:7)</failure>
    </testcase>
    <testcase classname="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Database Performance (8 tests) should efficiently perform historical data aggregation for report generation" name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Database Performance (8 tests) should efficiently perform historical data aggregation for report generation" time="0.72">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:28:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:200:7)</failure>
    </testcase>
    <testcase classname="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Database Performance (8 tests) should optimize query patterns for user behavior analytics" name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Database Performance (8 tests) should optimize query patterns for user behavior analytics" time="0.714">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:28:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:222:7)</failure>
    </testcase>
    <testcase classname="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Database Performance (8 tests) should demonstrate cache hit/miss ratios for memory caching effectiveness" name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Database Performance (8 tests) should demonstrate cache hit/miss ratios for memory caching effectiveness" time="0.762">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:28:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:236:7)</failure>
    </testcase>
    <testcase classname="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Database Performance (8 tests) should optimize geographic queries for location-based search efficiency" name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Database Performance (8 tests) should optimize geographic queries for location-based search efficiency" time="0.904">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:28:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:252:7)</failure>
    </testcase>
    <testcase classname="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Database Performance (8 tests) should optimize time-range calculations for date indexing performance" name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Database Performance (8 tests) should optimize time-range calculations for date indexing performance" time="0.815">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:28:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:266:7)</failure>
    </testcase>
    <testcase classname="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Database Performance (8 tests) should utilize composite index usage for multi-field query performance" name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Database Performance (8 tests) should utilize composite index usage for multi-field query performance" time="0.914">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:28:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:280:7)</failure>
    </testcase>
    <testcase classname="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Database Performance (8 tests) should optimize full-text search for content search capabilities" name="PERFORMANCE &amp; SCALABILITY TESTING GAPS: Load and Database Performance Database Performance (8 tests) should optimize full-text search for content search capabilities" time="0.631">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:28:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/performance-load.test.js:294:7)</failure>
    </testcase>
  </testsuite>
  <testsuite name="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation" errors="0" failures="10" skipped="0" timestamp="2025-10-28T17:10:38" time="13.473" tests="10">
    <testcase classname="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Partner Data Validation (5 tests) should handle partner age &gt; 120 years for senior compatibility analysis" name="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Partner Data Validation (5 tests) should handle partner age &gt; 120 years for senior compatibility analysis" time="1.881">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:31:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:51:7)</failure>
    </testcase>
    <testcase classname="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Partner Data Validation (5 tests) should reject partner birth date in the future" name="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Partner Data Validation (5 tests) should reject partner birth date in the future" time="0.674">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:74:7)</failure>
    </testcase>
    <testcase classname="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Partner Data Validation (5 tests) should handle partner birth city geocoding failures with location fallback" name="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Partner Data Validation (5 tests) should handle partner birth city geocoding failures with location fallback" time="0.69">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:92:7)</failure>
    </testcase>
    <testcase classname="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Partner Data Validation (5 tests) should ensure database consistency with multiple partner compatibility checks" name="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Partner Data Validation (5 tests) should ensure database consistency with multiple partner compatibility checks" time="0.673">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:31:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:113:7)</failure>
    </testcase>
    <testcase classname="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Partner Data Validation (5 tests) should prompt for subscription when compatibility check limit is reached" name="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Partner Data Validation (5 tests) should prompt for subscription when compatibility check limit is reached" time="0.726">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:31:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:148:7)</failure>
    </testcase>
    <testcase classname="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Relationship Context Variations (5 tests) should use different analysis algorithm for Romantic vs Friendship compatibility" name="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Relationship Context Variations (5 tests) should use different analysis algorithm for Romantic vs Friendship compatibility" time="0.77">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:31:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:181:7)</failure>
    </testcase>
    <testcase classname="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Relationship Context Variations (5 tests) should focus on professional dynamics for Business partnership compatibility" name="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Relationship Context Variations (5 tests) should focus on professional dynamics for Business partnership compatibility" time="0.846">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:31:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:207:7)</failure>
    </testcase>
    <testcase classname="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Relationship Context Variations (5 tests) should analyze generational compatibility patterns for Family relationship analysis" name="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Relationship Context Variations (5 tests) should analyze generational compatibility patterns for Family relationship analysis" time="0.81">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:31:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:225:7)</failure>
    </testcase>
    <testcase classname="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Relationship Context Variations (5 tests) should perform gender-neutral analysis for Same-sex partnership compatibility" name="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Relationship Context Variations (5 tests) should perform gender-neutral analysis for Same-sex partnership compatibility" time="0.841">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:31:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:243:7)</failure>
    </testcase>
    <testcase classname="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Relationship Context Variations (5 tests) should consider geographic factors for Long-distance compatibility" name="COMPATIBILITY ANALYSIS FLOW INTEGRATION: Partner Data and Relationship Context Validation Relationship Context Variations (5 tests) should consider geographic factors for Long-distance compatibility" time="0.746">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:31:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/compatibility-analysis.integration.test.js:263:7)</failure>
    </testcase>
  </testsuite>
  <testsuite name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization" errors="0" failures="16" skipped="0" timestamp="2025-10-28T17:10:53" time="45.818" tests="16">
    <testcase classname="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Input Validation &amp; Sanitization (8 tests) should prevent SQL injection attempts in database queries" name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Input Validation &amp; Sanitization (8 tests) should prevent SQL injection attempts in database queries" time="0.887">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+security_test_user&quot;, StringContaining &quot;Invalid input. Please avoid special characters.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:44:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Input Validation &amp; Sanitization (8 tests) should sanitize XSS in user inputs before displaying message content" name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Input Validation &amp; Sanitization (8 tests) should sanitize XSS in user inputs before displaying message content" time="0.542">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+security_test_user&quot;, StringNotContaining &quot;&lt;script&gt;alert(\&quot;XSS\&quot;)&lt;/script&gt;&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:60:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Input Validation &amp; Sanitization (8 tests) should validate API parameters to prevent command injection through geocoding" name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Input Validation &amp; Sanitization (8 tests) should validate API parameters to prevent command injection through geocoding" time="0.376">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+security_test_user&quot;, StringContaining &quot;Could not find location for \&quot;London; rm -rf /\&quot;. Please try again.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:77:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Input Validation &amp; Sanitization (8 tests) should enforce file system access controls to prevent path traversal in ephemeris files" name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Input Validation &amp; Sanitization (8 tests) should enforce file system access controls to prevent path traversal in ephemeris files" time="0.304">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+security_test_user&quot;, StringContaining &quot;Invalid file path. Access to system directories is restricted.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:91:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Input Validation &amp; Sanitization (8 tests) should validate input length to prevent buffer overflow attempts" name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Input Validation &amp; Sanitization (8 tests) should validate input length to prevent buffer overflow attempts" time="0.262">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+security_test_user&quot;, StringContaining &quot;Your message is too long. Please keep it under [max_length] characters.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:106:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Input Validation &amp; Sanitization (8 tests) should handle Unicode attack vectors with proper character encoding security" name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Input Validation &amp; Sanitization (8 tests) should handle Unicode attack vectors with proper character encoding security" time="0.283">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+security_test_user&quot;, StringContaining &quot;Invalid command or unrecognized input.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:120:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Input Validation &amp; Sanitization (8 tests) should prevent null byte injection in binary data handling security" name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Input Validation &amp; Sanitization (8 tests) should prevent null byte injection in binary data handling security" time="0.388">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+security_test_user&quot;, StringContaining &quot;Invalid characters in input.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:134:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Input Validation &amp; Sanitization (8 tests) should prevent control character abuse in text processing security" name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Input Validation &amp; Sanitization (8 tests) should prevent control character abuse in text processing security" time="0.417">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+security_test_user&quot;, StringContaining &quot;Hello World&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:148:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Authentication &amp; Authorization (8 tests) should prevent session fixation attacks through session ID regeneration" name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Authentication &amp; Authorization (8 tests) should prevent session fixation attacks through session ID regeneration" time="0.114">
      <failure>TypeError: whatsAppIntegration.getSessionId is not a function
    at Object.getSessionId (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:164:52)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Authentication &amp; Authorization (8 tests) should enforce session timeout for inactive session cleanup" name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Authentication &amp; Authorization (8 tests) should enforce session timeout for inactive session cleanup" time="30.068">
      <failure>Error: thrown: &quot;Exceeded timeout of 30000 ms for a test.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.&quot;
    at test (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:176:5)
    at _dispatchDescribe (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/index.js:91:26)
    at describe (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/index.js:55:5)
    at describe (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:156:3)
    at _dispatchDescribe (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/index.js:91:26)
    at describe (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/index.js:55:5)
    at Object.describe (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:4:1)
    at Runtime._execModule (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Authentication &amp; Authorization (8 tests) should enforce concurrent session limits for multi-device access control" name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Authentication &amp; Authorization (8 tests) should enforce concurrent session limits for multi-device access control" time="1.059">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:202:7)</failure>
    </testcase>
    <testcase classname="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Authentication &amp; Authorization (8 tests) should protect against session hijacking by validating request origin" name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Authentication &amp; Authorization (8 tests) should protect against session hijacking by validating request origin" time="0.181">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+security_test_user&quot;, StringContaining &quot;Security alert: Unusual activity detected. Please re-authenticate.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:219:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Authentication &amp; Authorization (8 tests) should implement phone number masking for privacy protection validation" name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Authentication &amp; Authorization (8 tests) should implement phone number masking for privacy protection validation" time="0.111">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+security_test_user&quot;, StringContaining &quot;Your phone number: +XXXXXXXXX_user&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:233:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Authentication &amp; Authorization (8 tests) should ensure birth data confidentiality through sensitive information handling" name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Authentication &amp; Authorization (8 tests) should ensure birth data confidentiality through sensitive information handling" time="0.101">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+security_test_user&quot;, StringContaining &quot;Unauthorized access. You cannot view other users&apos; birth data.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:247:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Authentication &amp; Authorization (8 tests) should protect user preferences through profile security testing" name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Authentication &amp; Authorization (8 tests) should protect user preferences through profile security testing" time="0.736">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:263:7)</failure>
    </testcase>
    <testcase classname="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Authentication &amp; Authorization (8 tests) should ensure data export security for information portability safety" name="SECURITY TESTING GAPS: Input Validation, Sanitization, Authentication &amp; Authorization Authentication &amp; Authorization (8 tests) should ensure data export security for information portability safety" time="0.084">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+security_test_user&quot;, StringContaining &quot;Your data export request has been received. It will be sent to your registered email.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/security-validation.test.js:279:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
  </testsuite>
  <testsuite name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support" errors="0" failures="16" skipped="0" timestamp="2025-10-28T17:11:40" time="9.324" tests="16">
    <testcase classname="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Multi-Language Support (8 tests) should provide correct numerology term translations based on cultural number systems" name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Multi-Language Support (8 tests) should provide correct numerology term translations based on cultural number systems" time="0.791">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+uxe_test_user&quot;, StringContaining &quot;Tu número de vida es [Number].&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/accessibility-international.test.js:45:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Multi-Language Support (8 tests) should provide correct astrological symbol translations for cross-cultural terminology" name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Multi-Language Support (8 tests) should provide correct astrological symbol translations for cross-cultural terminology" time="0.279">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+uxe_test_user&quot;, StringContaining &quot;आपका सूर्य राशि [Sun Sign Symbol] है।&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/accessibility-international.test.js:59:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Multi-Language Support (8 tests) should provide language-specific error message localization" name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Multi-Language Support (8 tests) should provide language-specific error message localization" time="0.276">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+uxe_test_user&quot;, StringContaining &quot;Por favor, proporcione la fecha en formato DDMMYY&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/accessibility-international.test.js:74:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Multi-Language Support (8 tests) should display date format localization based on cultural date representation" name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Multi-Language Support (8 tests) should display date format localization based on cultural date representation" time="0.234">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+uxe_test_user&quot;, StringContaining &quot;जन्म तिथि: १९९० जून १५&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/accessibility-international.test.js:88:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Multi-Language Support (8 tests) should maintain session language persistence during language switching mid-conversation" name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Multi-Language Support (8 tests) should maintain session language persistence during language switching mid-conversation" time="0.19">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+uxe_test_user&quot;, StringContaining &quot;Menú Principal&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/accessibility-international.test.js:103:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Multi-Language Support (8 tests) should accurately detect and handle mixed language inputs" name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Multi-Language Support (8 tests) should accurately detect and handle mixed language inputs" time="0.19">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+uxe_test_user&quot;, StringContaining &quot;Menú Principal&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/accessibility-international.test.js:118:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Multi-Language Support (8 tests) should use fallback language handling during translation service failures" name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Multi-Language Support (8 tests) should use fallback language handling during translation service failures" time="0.293">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+uxe_test_user&quot;, StringContaining &quot;We are experiencing issues with translation. Here is your daily horoscope in English.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/accessibility-international.test.js:136:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Multi-Language Support (8 tests) should preserve cultural context and localized meaning accuracy" name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Multi-Language Support (8 tests) should preserve cultural context and localized meaning accuracy" time="0.216">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+uxe_test_user&quot;, StringContaining &quot;Yorumunuz kültürel bağlamda hazırlanmıştır.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/accessibility-international.test.js:154:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Accessibility Testing (8 tests) should ensure WhatsApp screen reader navigation compatibility (JAWS/NVDA)" name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Accessibility Testing (8 tests) should ensure WhatsApp screen reader navigation compatibility (JAWS/NVDA)" time="0.19">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+uxe_test_user&quot;, StringMatching /Main Menu. Options include: Western Astrology, Vedic Astrology, Settings./i

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/accessibility-international.test.js:175:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Accessibility Testing (8 tests) should ensure message structure readability through semantic markup validation" name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Accessibility Testing (8 tests) should ensure message structure readability through semantic markup validation" time="0.179">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+uxe_test_user&quot;, StringMatching /\*Your Daily Horoscope\*\n\n• Focus on communication.\n• Avoid confrontations./i

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/accessibility-international.test.js:188:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Accessibility Testing (8 tests) should provide clear menu hierarchy announcement for screen readers" name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Accessibility Testing (8 tests) should provide clear menu hierarchy announcement for screen readers" time="0.156">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+uxe_test_user&quot;, StringContaining &quot;You are in the Vedic Astrology menu. Current path: Main &gt; Vedic. Options are:&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/accessibility-international.test.js:200:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Accessibility Testing (8 tests) should provide screen reader friendly alerts for error message accessibility" name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Accessibility Testing (8 tests) should provide screen reader friendly alerts for error message accessibility" time="0.161">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+uxe_test_user&quot;, StringContaining &quot;Error: Invalid input detected. Please try again. Detailed message:&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/accessibility-international.test.js:212:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Accessibility Testing (8 tests) should offer voice input compatibility for speech-to-text integration" name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Accessibility Testing (8 tests) should offer voice input compatibility for speech-to-text integration" time="0.149">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+uxe_test_user&quot;, StringContaining &quot;Your daily horoscope for today...&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/accessibility-international.test.js:226:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Accessibility Testing (8 tests) should provide Braille device integration for alternative input validation" name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Accessibility Testing (8 tests) should provide Braille device integration for alternative input validation" time="0.134">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+uxe_test_user&quot;, StringContaining &quot;Settings Menu. Options include:&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/accessibility-international.test.js:239:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Accessibility Testing (8 tests) should support switch device controls for single-switch navigation" name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Accessibility Testing (8 tests) should support switch device controls for single-switch navigation" time="0.172">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+uxe_test_user&quot;, StringContaining &quot;Selected: Western Astrology.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/accessibility-international.test.js:254:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Accessibility Testing (8 tests) should ensure eye-tracking compatibility for gaze-based menu selection" name="USER EXPERIENCE EDGE CASES: Accessibility and Multi-Language Support Accessibility Testing (8 tests) should ensure eye-tracking compatibility for gaze-based menu selection" time="0.196">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+uxe_test_user&quot;, StringContaining &quot;Your daily horoscope for today...&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/accessibility-international.test.js:276:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
  </testsuite>
  <testsuite name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions" errors="0" failures="16" skipped="0" timestamp="2025-10-28T17:11:50" time="6.928" tests="16">
    <testcase classname="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Device Type Variations (8 tests) should ensure consistent iOS WhatsApp behavior for Apple-specific interactions" name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Device Type Variations (8 tests) should ensure consistent iOS WhatsApp behavior for Apple-specific interactions" time="0.716">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+cross_platform_test_user&quot;, StringContaining &quot;Main Menu&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/cross-platform.test.js:44:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Device Type Variations (8 tests) should validate Android WhatsApp variations for Google-specific behavior" name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Device Type Variations (8 tests) should validate Android WhatsApp variations for Google-specific behavior" time="0.069">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+cross_platform_test_user&quot;, StringContaining &quot;Main Menu&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/cross-platform.test.js:59:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Device Type Variations (8 tests) should maintain backward compatibility across different OS versions" name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Device Type Variations (8 tests) should maintain backward compatibility across different OS versions" time="0.084">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+cross_platform_test_user&quot;, StringContaining &quot;Your daily horoscope for today...&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/cross-platform.test.js:73:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Device Type Variations (8 tests) should ensure UI responsiveness across various mobile screen sizes" name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Device Type Variations (8 tests) should ensure UI responsiveness across various mobile screen sizes" time="0.192">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+cross_platform_test_user&quot;, StringContaining &quot;Here are our services:&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/cross-platform.test.js:87:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Device Type Variations (8 tests) should handle message format variations between Business API and Consumer API" name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Device Type Variations (8 tests) should handle message format variations between Business API and Consumer API" time="0.069">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+cross_platform_test_user&quot;, StringContaining &quot;Welcome to the Astrology Bot!&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/cross-platform.test.js:102:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Device Type Variations (8 tests) should gracefully handle feature phone limitations for basic feature availability" name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Device Type Variations (8 tests) should gracefully handle feature phone limitations for basic feature availability" time="0.081">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+cross_platform_test_user&quot;, StringContaining &quot;Image sending is not supported on your device. Sending text alternative.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/cross-platform.test.js:116:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Device Type Variations (8 tests) should ensure cross-platform consistency with Web WhatsApp integration" name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Device Type Variations (8 tests) should ensure cross-platform consistency with Web WhatsApp integration" time="0.082">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+cross_platform_test_user&quot;, StringContaining &quot;Your Profile Details:&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/cross-platform.test.js:130:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Device Type Variations (8 tests) should validate interface behavior differences between WhatsApp Web and Mobile" name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Device Type Variations (8 tests) should validate interface behavior differences between WhatsApp Web and Mobile" time="0.087">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+cross_platform_test_user&quot;, StringContaining &quot;Quick reply buttons might render differently on Web vs Mobile.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/cross-platform.test.js:144:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Network Condition Testing (8 tests) should optimize for 2G network performance with slow connection optimization" name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Network Condition Testing (8 tests) should optimize for 2G network performance with slow connection optimization" time="0.077">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+cross_platform_test_user&quot;, StringContaining &quot;Optimized for slow connection. Your daily horoscope:&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/cross-platform.test.js:160:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Network Condition Testing (8 tests) should implement message retry mechanisms for intermittent connectivity" name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Network Condition Testing (8 tests) should implement message retry mechanisms for intermittent connectivity" time="0.069">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+cross_platform_test_user&quot;, StringContaining &quot;Connectivity issue detected. Retrying your request...&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/cross-platform.test.js:174:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Network Condition Testing (8 tests) should implement timeout handling validation for high latency scenarios" name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Network Condition Testing (8 tests) should implement timeout handling validation for high latency scenarios" time="0.07">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+cross_platform_test_user&quot;, StringContaining &quot;Your request is taking longer than expected. Please wait or try again.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/cross-platform.test.js:191:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Network Condition Testing (8 tests) should optimize content for bandwidth throttling" name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Network Condition Testing (8 tests) should optimize content for bandwidth throttling" time="0.068">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+cross_platform_test_user&quot;, StringContaining &quot;Bandwidth is limited. Sending a compressed image or text description instead.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/cross-platform.test.js:205:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Network Condition Testing (8 tests) should minimize image generation for bandwidth conservation" name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Network Condition Testing (8 tests) should minimize image generation for bandwidth conservation" time="0.064">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+cross_platform_test_user&quot;, StringContaining &quot;Due to low bandwidth, sending a text-based chart summary instead of an image.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/cross-platform.test.js:219:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Network Condition Testing (8 tests) should validate caching strategy effectiveness for offline capability" name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Network Condition Testing (8 tests) should validate caching strategy effectiveness for offline capability" time="0.075">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+cross_platform_test_user&quot;, StringContaining &quot;Retrieving your last report from offline cache.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/cross-platform.test.js:237:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Network Condition Testing (8 tests) should implement progressive content loading for user experience optimization" name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Network Condition Testing (8 tests) should implement progressive content loading for user experience optimization" time="0.073">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+cross_platform_test_user&quot;, StringContaining &quot;Loading your detailed life reading... Part 1 of 3:&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/cross-platform.test.js:251:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Network Condition Testing (8 tests) should monitor data usage for cost-conscious design validation" name="CROSS-PLATFORM COMPATIBILITY: Device Variations and Network Conditions Network Condition Testing (8 tests) should monitor data usage for cost-conscious design validation" time="0.079">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+cross_platform_test_user&quot;, StringContaining &quot;Warning: This action will consume significant data. Proceed?&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/cross-platform.test.js:265:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
  </testsuite>
  <testsuite name="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability" errors="0" failures="6" skipped="0" timestamp="2025-10-28T17:11:58" time="9.917" tests="8">
    <testcase classname="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability Database Transaction Integrity (8 tests) should prevent simultaneous user registrations from causing unique identifier collision" name="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability Database Transaction Integrity (8 tests) should prevent simultaneous user registrations from causing unique identifier collision" time="1.763">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at simulateOnboarding (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/database-operations.test.js:28:5)
    at async Promise.all (index 0)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/database-operations.test.js:44:7)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability Database Transaction Integrity (8 tests) should maintain data integrity during concurrent profile updates" name="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability Database Transaction Integrity (8 tests) should maintain data integrity during concurrent profile updates" time="0.102">
      <failure>TypeError: Cannot read properties of null (reading &apos;birthTime&apos;)
    at Object.birthTime (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/database-operations.test.js:64:19)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability Database Transaction Integrity (8 tests) should validate locking mechanisms for shared resource access conflicts" name="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability Database Transaction Integrity (8 tests) should validate locking mechanisms for shared resource access conflicts" time="0.087">
      <failure>TypeError: Cannot read properties of null (reading &apos;subscriptionPlan&apos;)
    at Object.subscriptionPlan (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/database-operations.test.js:82:19)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability Database Transaction Integrity (8 tests) should ensure multi-device consistency through session state synchronization" name="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability Database Transaction Integrity (8 tests) should ensure multi-device consistency through session state synchronization" time="0.088">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;+db_test_user&quot;, StringContaining &quot;Your current preference is Vedic Astrology.&quot;

Number of calls: 0
    at Object.toHaveBeenCalledWith (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/database-operations.test.js:100:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability Database Transaction Integrity (8 tests) should test database performance limits with bulk user import stress" name="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability Database Transaction Integrity (8 tests) should test database performance limits with bulk user import stress" time="2.884">
    </testcase>
    <testcase classname="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability Database Transaction Integrity (8 tests) should test calculation throughput with high-volume reading generation" name="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability Database Transaction Integrity (8 tests) should test calculation throughput with high-volume reading generation" time="0.573">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)

Expected number of calls: 50
Received number of calls: 0
    at Object.toHaveBeenCalledTimes (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/database-operations.test.js:138:51)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability Database Transaction Integrity (8 tests) should verify index optimization for large user base queries" name="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability Database Transaction Integrity (8 tests) should verify index optimization for large user base queries" time="0.051">
    </testcase>
    <testcase classname="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability Database Transaction Integrity (8 tests) should ensure historical data integrity with archival data management" name="DATABASE OPERATIONS INTEGRATION: Transaction Integrity and Scalability Database Transaction Integrity (8 tests) should ensure historical data integrity with archival data management" time="0.212">
      <failure>TypeError: Cannot read properties of null (reading &apos;content&apos;)
    at Object.content (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/consolidated/database-operations.test.js:167:30)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
  </testsuite>
  <testsuite name="SUBSCRIPTION_002: Insufficient Funds Handling" errors="0" failures="2" skipped="0" timestamp="2025-10-28T17:12:10" time="5.551" tests="4">
    <testcase classname="SUBSCRIPTION_002: Insufficient Funds Handling should handle card declined due to insufficient funds" name="SUBSCRIPTION_002: Insufficient Funds Handling should handle card declined due to insufficient funds" time="1.588">
      <failure>AxiosError: Request failed with status code 401
    at settle (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/settle.js:19:12)
    at IncomingMessage.handleStreamEnd (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/adapters/http.js:617:11)
    at IncomingMessage.emit (node:events:520:35)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/axios/lib/core/Axios.js:45:41)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at sendTextMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:64:22)
    at sendMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageSender.js:430:18)
    at sendErrorMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:2499:3)
    at processIncomingMessage (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/src/services/whatsapp/messageProcessor.js:249:5)
    at Object.&lt;anonymous&gt; (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/payment-subscription/SUBSCRIPTION_002.test.js:37:5)</failure>
    </testcase>
    <testcase classname="SUBSCRIPTION_002: Insufficient Funds Handling should offer alternative payment methods after decline" name="SUBSCRIPTION_002: Insufficient Funds Handling should offer alternative payment methods after decline" time="0.019">
      <failure>Error: expect(received).toBeDefined()

Received: undefined
    at Object.toBeDefined (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/payment-subscription/SUBSCRIPTION_002.test.js:109:39)
    at Promise.then.completed (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="SUBSCRIPTION_002: Insufficient Funds Handling should track failed payment attempts per user" name="SUBSCRIPTION_002: Insufficient Funds Handling should track failed payment attempts per user" time="0.031">
    </testcase>
    <testcase classname="SUBSCRIPTION_002: Insufficient Funds Handling should suggest downgrade to basic plan after multiple declines" name="SUBSCRIPTION_002: Insufficient Funds Handling should suggest downgrade to basic plan after multiple declines" time="0.011">
    </testcase>
  </testsuite>
  <testsuite name="CROSSPLATFORM_008: Intermittent Connectivity - Message Retry Mechanisms" errors="0" failures="1" skipped="0" timestamp="2025-10-28T17:12:16" time="4.839" tests="1">
    <testcase classname="CROSSPLATFORM_008: Intermittent Connectivity - Message Retry Mechanisms should successfully process request after intermittent Google Maps API failure" name="CROSSPLATFORM_008: Intermittent Connectivity - Message Retry Mechanisms should successfully process request after intermittent Google Maps API failure" time="0.665">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)

Expected number of calls: 2
Received number of calls: 0
    at Object.toHaveBeenCalledTimes (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/cross-platform/CROSSPLATFORM_008.test.js:65:25)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
  </testsuite>
  <testsuite name="CROSSPLATFORM_009: High Latency Scenarios - Timeout Handling" errors="0" failures="1" skipped="0" timestamp="2025-10-28T17:12:21" time="4.171" tests="1">
    <testcase classname="CROSSPLATFORM_009: High Latency Scenarios - Timeout Handling should handle Google Maps API timeout for location input" name="CROSSPLATFORM_009: High Latency Scenarios - Timeout Handling should handle Google Maps API timeout for location input" time="0.66">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)

Expected number of calls: 1
Received number of calls: 0
    at Object.toHaveBeenCalledTimes (/Users/mohitmendiratta/Projects/bots/w1/astro-whatsapp-bot/tests/e2e/cross-platform/CROSSPLATFORM_009.test.js:62:35)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
  </testsuite>
  <testsuite name="Astrology Library Integration Tests" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:12:26" time="9.892" tests="16">
    <testcase classname="Astrology Library Integration Tests Tarot Reader Integration should generate valid single card tarot reading" name="Astrology Library Integration Tests Tarot Reader Integration should generate valid single card tarot reading" time="0.013">
    </testcase>
    <testcase classname="Astrology Library Integration Tests Tarot Reader Integration should generate valid three-card spread reading" name="Astrology Library Integration Tests Tarot Reader Integration should generate valid three-card spread reading" time="0.003">
    </testcase>
    <testcase classname="Astrology Library Integration Tests Tarot Reader Integration should generate valid Celtic cross reading" name="Astrology Library Integration Tests Tarot Reader Integration should generate valid Celtic cross reading" time="0.008">
    </testcase>
    <testcase classname="Astrology Library Integration Tests Tarot Reader Integration should handle invalid spread type gracefully" name="Astrology Library Integration Tests Tarot Reader Integration should handle invalid spread type gracefully" time="0.005">
    </testcase>
    <testcase classname="Astrology Library Integration Tests Palmistry Reader Integration should generate valid palmistry reading" name="Astrology Library Integration Tests Palmistry Reader Integration should generate valid palmistry reading" time="0.005">
    </testcase>
    <testcase classname="Astrology Library Integration Tests Palmistry Reader Integration should generate sample reading when no user provided" name="Astrology Library Integration Tests Palmistry Reader Integration should generate sample reading when no user provided" time="0.003">
    </testcase>
    <testcase classname="Astrology Library Integration Tests Nadi Reader Integration should generate valid Nadi astrology reading" name="Astrology Library Integration Tests Nadi Reader Integration should generate valid Nadi astrology reading" time="0.005">
    </testcase>
    <testcase classname="Astrology Library Integration Tests Nadi Reader Integration should handle missing birth date" name="Astrology Library Integration Tests Nadi Reader Integration should handle missing birth date" time="0.006">
    </testcase>
    <testcase classname="Astrology Library Integration Tests Chinese Calculator Integration should calculate valid Chinese zodiac sign" name="Astrology Library Integration Tests Chinese Calculator Integration should calculate valid Chinese zodiac sign" time="0.003">
    </testcase>
    <testcase classname="Astrology Library Integration Tests Chinese Calculator Integration should handle different birth dates correctly" name="Astrology Library Integration Tests Chinese Calculator Integration should handle different birth dates correctly" time="0.002">
    </testcase>
    <testcase classname="Astrology Library Integration Tests Vedic Calculator Integration should calculate valid Vedic birth chart" name="Astrology Library Integration Tests Vedic Calculator Integration should calculate valid Vedic birth chart" time="5.776">
    </testcase>
    <testcase classname="Astrology Library Integration Tests Vedic Calculator Integration should handle invalid birth data gracefully" name="Astrology Library Integration Tests Vedic Calculator Integration should handle invalid birth data gracefully" time="0.463">
    </testcase>
    <testcase classname="Astrology Library Integration Tests Numerology Service Integration should generate valid numerology report" name="Astrology Library Integration Tests Numerology Service Integration should generate valid numerology report" time="0.003">
    </testcase>
    <testcase classname="Astrology Library Integration Tests Numerology Service Integration should handle user without name" name="Astrology Library Integration Tests Numerology Service Integration should handle user without name" time="0.003">
    </testcase>
    <testcase classname="Astrology Library Integration Tests Cross-System Compatibility should generate compatible readings across different systems" name="Astrology Library Integration Tests Cross-System Compatibility should generate compatible readings across different systems" time="0.007">
    </testcase>
    <testcase classname="Astrology Library Integration Tests Cross-System Compatibility should handle edge cases consistently across systems" name="Astrology Library Integration Tests Cross-System Compatibility should handle edge cases consistently across systems" time="0.004">
    </testcase>
  </testsuite>
  <testsuite name="Comprehensive Menu Integration Tests - REAL LIBRARIES" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:12:36" time="8.035" tests="19">
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Menu Structure Validation should load all menu configurations correctly" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Menu Structure Validation should load all menu configurations correctly" time="0.048">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Main Menu Navigation should display main menu with 6 categories" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Main Menu Navigation should display main menu with 6 categories" time="0.009">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Western Astrology Menu - REAL CALCULATIONS should navigate to Western Astrology menu" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Western Astrology Menu - REAL CALCULATIONS should navigate to Western Astrology menu" time="0.197">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Western Astrology Menu - REAL CALCULATIONS should calculate REAL birth chart" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Western Astrology Menu - REAL CALCULATIONS should calculate REAL birth chart" time="0.167">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Vedic Astrology Menu - REAL CALCULATIONS should navigate to Vedic Astrology menu" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Vedic Astrology Menu - REAL CALCULATIONS should navigate to Vedic Astrology menu" time="0.019">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Vedic Astrology Menu - REAL CALCULATIONS should calculate REAL Vedic birth chart (Kundli)" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Vedic Astrology Menu - REAL CALCULATIONS should calculate REAL Vedic birth chart (Kundli)" time="0.017">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Divination &amp; Mystic Menu - REAL READINGS should navigate to Divination menu" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Divination &amp; Mystic Menu - REAL READINGS should navigate to Divination menu" time="0.035">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Divination &amp; Mystic Menu - REAL READINGS should generate REAL Tarot reading" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Divination &amp; Mystic Menu - REAL READINGS should generate REAL Tarot reading" time="0.029">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Relationships &amp; Groups Menu - REAL COMPATIBILITY should navigate to Relationships menu" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Relationships &amp; Groups Menu - REAL COMPATIBILITY should navigate to Relationships menu" time="0.127">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Numerology &amp; Special Menu - REAL CALCULATIONS should navigate to Numerology menu" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Numerology &amp; Special Menu - REAL CALCULATIONS should navigate to Numerology menu" time="0.03">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Numerology &amp; Special Menu - REAL CALCULATIONS should calculate REAL numerology report" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Numerology &amp; Special Menu - REAL CALCULATIONS should calculate REAL numerology report" time="0.114">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Database Operations - REAL MONGO CALLS should create and retrieve user from REAL database" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Database Operations - REAL MONGO CALLS should create and retrieve user from REAL database" time="0.014">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Database Operations - REAL MONGO CALLS should update user profile in REAL database" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Database Operations - REAL MONGO CALLS should update user profile in REAL database" time="0.05">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Error Handling &amp; Edge Cases should handle invalid menu selection gracefully" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Error Handling &amp; Edge Cases should handle invalid menu selection gracefully" time="0.079">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Error Handling &amp; Edge Cases should handle malformed messages gracefully" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Error Handling &amp; Edge Cases should handle malformed messages gracefully" time="0.017">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Error Handling &amp; Edge Cases should handle incomplete user profiles gracefully" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Error Handling &amp; Edge Cases should handle incomplete user profiles gracefully" time="0.051">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Error Handling &amp; Edge Cases should handle network-like failures gracefully" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Error Handling &amp; Edge Cases should handle network-like failures gracefully" time="0.03">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Error Handling &amp; Edge Cases should handle concurrent user sessions" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Error Handling &amp; Edge Cases should handle concurrent user sessions" time="0.267">
    </testcase>
    <testcase classname="Comprehensive Menu Integration Tests - REAL LIBRARIES Performance &amp; Load Testing should handle multiple menu navigations efficiently" name="Comprehensive Menu Integration Tests - REAL LIBRARIES Performance &amp; Load Testing should handle multiple menu navigations efficiently" time="0.156">
    </testcase>
  </testsuite>
  <testsuite name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:12:45" time="24.262" tests="17">
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Complete Menu Tree Traversal - All Paths Tested should traverse ALL main menu paths and validate responses" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Complete Menu Tree Traversal - All Paths Tested should traverse ALL main menu paths and validate responses" time="0.994">
    </testcase>
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Complete Menu Tree Traversal - All Paths Tested should traverse ALL Western astrology sub-menu paths" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Complete Menu Tree Traversal - All Paths Tested should traverse ALL Western astrology sub-menu paths" time="2.245">
    </testcase>
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Complete Menu Tree Traversal - All Paths Tested should traverse ALL Vedic astrology sub-menu paths" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Complete Menu Tree Traversal - All Paths Tested should traverse ALL Vedic astrology sub-menu paths" time="0.427">
    </testcase>
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Complete Menu Tree Traversal - All Paths Tested should traverse ALL divination &amp; mystic sub-menu paths" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Complete Menu Tree Traversal - All Paths Tested should traverse ALL divination &amp; mystic sub-menu paths" time="0.319">
    </testcase>
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Complete Menu Tree Traversal - All Paths Tested should traverse ALL relationships &amp; groups sub-menu paths" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Complete Menu Tree Traversal - All Paths Tested should traverse ALL relationships &amp; groups sub-menu paths" time="0.222">
    </testcase>
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Complete Menu Tree Traversal - All Paths Tested should traverse ALL numerology &amp; special sub-menu paths" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Complete Menu Tree Traversal - All Paths Tested should traverse ALL numerology &amp; special sub-menu paths" time="0.31">
    </testcase>
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Real Calculation Validation - All Services Tested should validate ALL real calculation services perform actual computations" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Real Calculation Validation - All Services Tested should validate ALL real calculation services perform actual computations" time="2.474">
    </testcase>
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Real Calculation Validation - All Services Tested should validate calculation accuracy with known astronomical data" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Real Calculation Validation - All Services Tested should validate calculation accuracy with known astronomical data" time="0.047">
    </testcase>
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Menu Tree Performance &amp; Load Testing should handle rapid menu navigation through all paths efficiently" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Menu Tree Performance &amp; Load Testing should handle rapid menu navigation through all paths efficiently" time="2.561">
    </testcase>
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Menu Tree Performance &amp; Load Testing should validate menu tree consistency across multiple user sessions" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Menu Tree Performance &amp; Load Testing should validate menu tree consistency across multiple user sessions" time="0.161">
    </testcase>
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Real Database Integration Throughout Menu Tree should validate database operations for all menu interactions" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Real Database Integration Throughout Menu Tree should validate database operations for all menu interactions" time="0.119">
    </testcase>
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Real Database Integration Throughout Menu Tree should validate user profile updates through menu interactions" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Real Database Integration Throughout Menu Tree should validate user profile updates through menu interactions" time="0.05">
    </testcase>
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Geocoding Integration Throughout Menu Tree should validate geocoding service integration for location-based calculations" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Geocoding Integration Throughout Menu Tree should validate geocoding service integration for location-based calculations" time="4.245">
    </testcase>
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Geocoding Integration Throughout Menu Tree should validate timezone calculations for global astrology accuracy" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Geocoding Integration Throughout Menu Tree should validate timezone calculations for global astrology accuracy" time="4.378">
    </testcase>
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Comprehensive Error Handling Validation should handle all error scenarios gracefully throughout menu tree" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Comprehensive Error Handling Validation should handle all error scenarios gracefully throughout menu tree" time="0.047">
    </testcase>
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Comprehensive Error Handling Validation should validate incomplete profile handling for calculation services" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Comprehensive Error Handling Validation should validate incomplete profile handling for calculation services" time="0.043">
    </testcase>
    <testcase classname="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Final Comprehensive Validation Summary should provide comprehensive test coverage summary" name="COMPREHENSIVE MENU TREE VALIDATION - REAL CALCULATIONS ONLY Final Comprehensive Validation Summary should provide comprehensive test coverage summary" time="0.011">
    </testcase>
  </testsuite>
  <testsuite name="WhatsApp Webhook Integration" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:13:09" time="7.557" tests="11">
    <testcase classname="WhatsApp Webhook Integration GET /webhook - Verification should verify webhook with correct token" name="WhatsApp Webhook Integration GET /webhook - Verification should verify webhook with correct token" time="0.047">
    </testcase>
    <testcase classname="WhatsApp Webhook Integration GET /webhook - Verification should reject webhook verification with wrong token" name="WhatsApp Webhook Integration GET /webhook - Verification should reject webhook verification with wrong token" time="0.011">
    </testcase>
    <testcase classname="WhatsApp Webhook Integration GET /webhook - Verification should return ready status for verification request without parameters" name="WhatsApp Webhook Integration GET /webhook - Verification should return ready status for verification request without parameters" time="0.011">
    </testcase>
    <testcase classname="WhatsApp Webhook Integration POST /webhook - Message Processing should process valid webhook with text message" name="WhatsApp Webhook Integration POST /webhook - Message Processing should process valid webhook with text message" time="0.032">
    </testcase>
    <testcase classname="WhatsApp Webhook Integration POST /webhook - Message Processing should process valid webhook with interactive message" name="WhatsApp Webhook Integration POST /webhook - Message Processing should process valid webhook with interactive message" time="0.015">
    </testcase>
    <testcase classname="WhatsApp Webhook Integration POST /webhook - Message Processing should process valid webhook with button message" name="WhatsApp Webhook Integration POST /webhook - Message Processing should process valid webhook with button message" time="0.016">
    </testcase>
    <testcase classname="WhatsApp Webhook Integration POST /webhook - Message Processing should process valid webhook with media message" name="WhatsApp Webhook Integration POST /webhook - Message Processing should process valid webhook with media message" time="0.014">
    </testcase>
    <testcase classname="WhatsApp Webhook Integration POST /webhook - Message Processing should handle invalid webhook payload gracefully" name="WhatsApp Webhook Integration POST /webhook - Message Processing should handle invalid webhook payload gracefully" time="0.015">
    </testcase>
    <testcase classname="WhatsApp Webhook Integration POST /webhook - Message Processing should handle webhook processing errors gracefully" name="WhatsApp Webhook Integration POST /webhook - Message Processing should handle webhook processing errors gracefully" time="3.018">
    </testcase>
    <testcase classname="WhatsApp Webhook Integration POST /webhook - Message Processing should validate webhook signature when provided" name="WhatsApp Webhook Integration POST /webhook - Message Processing should validate webhook signature when provided" time="0.022">
    </testcase>
    <testcase classname="WhatsApp Webhook Integration Error Handling should handle missing environment variables gracefully" name="WhatsApp Webhook Integration Error Handling should handle missing environment variables gracefully" time="0.019">
    </testcase>
  </testsuite>
  <testsuite name="WhatsApp Controller" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:13:17" time="6.431" tests="4">
    <testcase classname="WhatsApp Controller handleWhatsAppWebhook should return 400 for invalid webhook payload" name="WhatsApp Controller handleWhatsAppWebhook should return 400 for invalid webhook payload" time="0.004">
    </testcase>
    <testcase classname="WhatsApp Controller handleWhatsAppWebhook should return 200 for valid webhook payload with no entries" name="WhatsApp Controller handleWhatsAppWebhook should return 200 for valid webhook payload with no entries" time="0.002">
    </testcase>
    <testcase classname="WhatsApp Controller handleWhatsAppWebhook should process valid webhook with messages" name="WhatsApp Controller handleWhatsAppWebhook should process valid webhook with messages" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Controller handleWhatsAppWebhook should handle errors gracefully" name="WhatsApp Controller handleWhatsAppWebhook should handle errors gracefully" time="3.009">
    </testcase>
  </testsuite>
  <testsuite name="UserModel Functions" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:13:24" time="3.724" tests="4">
    <testcase classname="UserModel Functions getUserByPhone should get user by phone number" name="UserModel Functions getUserByPhone should get user by phone number" time="0.823">
    </testcase>
    <testcase classname="UserModel Functions updateUserProfile should update user profile" name="UserModel Functions updateUserProfile should update user profile" time="0.196">
    </testcase>
    <testcase classname="UserModel Functions createUser should create a new user with proper defaults" name="UserModel Functions createUser should create a new user with proper defaults" time="0.034">
    </testcase>
    <testcase classname="UserModel Functions createUser should create user with default name when not provided" name="UserModel Functions createUser should create user with default name when not provided" time="0.131">
    </testcase>
  </testsuite>
  <testsuite name="Astrology Button Integration" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:13:28" time="4.815" tests="7">
    <testcase classname="Astrology Button Integration Tarot Reading Buttons should process single card tarot reading button" name="Astrology Button Integration Tarot Reading Buttons should process single card tarot reading button" time="0.048">
    </testcase>
    <testcase classname="Astrology Button Integration Tarot Reading Buttons should process three-card spread tarot reading button" name="Astrology Button Integration Tarot Reading Buttons should process three-card spread tarot reading button" time="0.011">
    </testcase>
    <testcase classname="Astrology Button Integration Palmistry Reading Buttons should process palmistry reading button" name="Astrology Button Integration Palmistry Reading Buttons should process palmistry reading button" time="0.009">
    </testcase>
    <testcase classname="Astrology Button Integration Nadi Astrology Buttons should process Nadi reading button" name="Astrology Button Integration Nadi Astrology Buttons should process Nadi reading button" time="0.012">
    </testcase>
    <testcase classname="Astrology Button Integration Compatibility Check Buttons should process compatibility check button" name="Astrology Button Integration Compatibility Check Buttons should process compatibility check button" time="0.012">
    </testcase>
    <testcase classname="Astrology Button Integration Subscription and Payment Buttons should process subscription upgrade button" name="Astrology Button Integration Subscription and Payment Buttons should process subscription upgrade button" time="0.017">
    </testcase>
    <testcase classname="Astrology Button Integration Subscription and Payment Buttons should process payment method selection button" name="Astrology Button Integration Subscription and Payment Buttons should process payment method selection button" time="0.014">
    </testcase>
  </testsuite>
  <testsuite name="ConversationEngine" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:13:33" time="5.831" tests="5">
    <testcase classname="ConversationEngine processFlowMessage should initialize session for new flow and access flow.start_step without temporal dead zone error" name="ConversationEngine processFlowMessage should initialize session for new flow and access flow.start_step without temporal dead zone error" time="0.011">
    </testcase>
    <testcase classname="ConversationEngine processFlowMessage should handle existing session correctly" name="ConversationEngine processFlowMessage should handle existing session correctly" time="0.005">
    </testcase>
    <testcase classname="ConversationEngine processFlowMessage should handle interactive messages without validation" name="ConversationEngine processFlowMessage should handle interactive messages without validation" time="0.006">
    </testcase>
    <testcase classname="ConversationEngine processFlowMessage should handle flow not found error" name="ConversationEngine processFlowMessage should handle flow not found error" time="0.006">
    </testcase>
    <testcase classname="ConversationEngine processFlowMessage should handle invalid phone number" name="ConversationEngine processFlowMessage should handle invalid phone number" time="0.005">
    </testcase>
  </testsuite>
  <testsuite name="Real Astrology Calculations Integration Tests" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:13:40" time="7.401" tests="21">
    <testcase classname="Real Astrology Calculations Integration Tests Western Astrology - Service Integration should load Western astrology services successfully" name="Real Astrology Calculations Integration Tests Western Astrology - Service Integration should load Western astrology services successfully" time="2.698">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Western Astrology - Service Integration should validate WesternCalculator class structure" name="Real Astrology Calculations Integration Tests Western Astrology - Service Integration should validate WesternCalculator class structure" time="0.004">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Vedic Astrology - Service Integration should load Vedic astrology services successfully" name="Real Astrology Calculations Integration Tests Vedic Astrology - Service Integration should load Vedic astrology services successfully" time="0.024">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Vedic Astrology - Service Integration should validate VedicCalculator can be instantiated" name="Real Astrology Calculations Integration Tests Vedic Astrology - Service Integration should validate VedicCalculator can be instantiated" time="0.003">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Vedic Astrology - Service Integration should validate VimshottariDasha basic functionality" name="Real Astrology Calculations Integration Tests Vedic Astrology - Service Integration should validate VimshottariDasha basic functionality" time="0.002">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Divination Systems - Service Integration should load divination services successfully" name="Real Astrology Calculations Integration Tests Divination Systems - Service Integration should load divination services successfully" time="0.004">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Divination Systems - Service Integration should validate TarotReader functionality" name="Real Astrology Calculations Integration Tests Divination Systems - Service Integration should validate TarotReader functionality" time="0.005">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Divination Systems - Service Integration should validate IChingReader functionality" name="Real Astrology Calculations Integration Tests Divination Systems - Service Integration should validate IChingReader functionality" time="0.012">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Numerology - Service Integration should load numerology services successfully" name="Real Astrology Calculations Integration Tests Numerology - Service Integration should load numerology services successfully" time="0.005">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Numerology - Service Integration should validate numerology calculations" name="Real Astrology Calculations Integration Tests Numerology - Service Integration should validate numerology calculations" time="0.007">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Chinese Astrology - Service Integration should load Chinese astrology services successfully" name="Real Astrology Calculations Integration Tests Chinese Astrology - Service Integration should load Chinese astrology services successfully" time="0.003">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Astrocartography - Service Integration should load astrocartography services successfully" name="Real Astrology Calculations Integration Tests Astrocartography - Service Integration should load astrocartography services successfully" time="0.004">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Palmistry - Service Integration should load palmistry services successfully" name="Real Astrology Calculations Integration Tests Palmistry - Service Integration should load palmistry services successfully" time="0.003">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Palmistry - Service Integration should validate PalmistryReader functionality" name="Real Astrology Calculations Integration Tests Palmistry - Service Integration should validate PalmistryReader functionality" time="0.019">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Celtic Astrology - Service Integration should load Celtic astrology services successfully" name="Real Astrology Calculations Integration Tests Celtic Astrology - Service Integration should load Celtic astrology services successfully" time="0.004">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Mayan Astrology - Service Integration should load Mayan astrology services successfully" name="Real Astrology Calculations Integration Tests Mayan Astrology - Service Integration should load Mayan astrology services successfully" time="0.003">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Islamic Astrology - Service Integration should load Islamic astrology services successfully" name="Real Astrology Calculations Integration Tests Islamic Astrology - Service Integration should load Islamic astrology services successfully" time="0.002">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Relationships &amp; Compatibility - Service Integration should load compatibility services successfully" name="Real Astrology Calculations Integration Tests Relationships &amp; Compatibility - Service Integration should load compatibility services successfully" time="0.009">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Special Readings - AI Integration should load AI services successfully" name="Real Astrology Calculations Integration Tests Special Readings - AI Integration should load AI services successfully" time="0.005">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Service Integration Validation should validate all astrology services can be imported" name="Real Astrology Calculations Integration Tests Service Integration Validation should validate all astrology services can be imported" time="0.004">
    </testcase>
    <testcase classname="Real Astrology Calculations Integration Tests Service Integration Validation should validate core astrology functionality" name="Real Astrology Calculations Integration Tests Service Integration Validation should validate core astrology functionality" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="User Model" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:13:48" time="3.183" tests="2">
    <testcase classname="User Model User Creation should create a new user with valid data" name="User Model User Creation should create a new user with valid data" time="0.42">
    </testcase>
    <testcase classname="User Model User Creation should update user profile" name="User Model User Creation should update user profile" time="0.171">
    </testcase>
  </testsuite>
  <testsuite name="WebhookValidator" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:13:51" time="3.499" tests="4">
    <testcase classname="WebhookValidator validateWebhookSignature should validate correct signature" name="WebhookValidator validateWebhookSignature should validate correct signature" time="0.003">
    </testcase>
    <testcase classname="WebhookValidator validateWebhookSignature should reject invalid signature" name="WebhookValidator validateWebhookSignature should reject invalid signature" time="0.003">
    </testcase>
    <testcase classname="WebhookValidator validateWebhookPayload should validate valid payload" name="WebhookValidator validateWebhookPayload should validate valid payload" time="0.002">
    </testcase>
    <testcase classname="WebhookValidator validateWebhookPayload should reject invalid payload" name="WebhookValidator validateWebhookPayload should reject invalid payload" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="KabbalisticReader" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:13:54" time="2.367" tests="2">
    <testcase classname="KabbalisticReader generateKabbalisticChart should generate Kabbalistic chart for valid birth data" name="KabbalisticReader generateKabbalisticChart should generate Kabbalistic chart for valid birth data" time="0.009">
    </testcase>
    <testcase classname="KabbalisticReader generateKabbalisticChart should handle invalid birth data gracefully" name="KabbalisticReader generateKabbalisticChart should handle invalid birth data gracefully" time="0.003">
    </testcase>
  </testsuite>
  <testsuite name="Session Model" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:13:57" time="4.875" tests="3">
    <testcase classname="Session Model Session Creation should create a new session with valid data" name="Session Model Session Creation should create a new session with valid data" time="0.377">
    </testcase>
    <testcase classname="Session Model Session Queries should find session by phone number" name="Session Model Session Queries should find session by phone number" time="0.151">
    </testcase>
    <testcase classname="Session Model Session Queries should update session flow data" name="Session Model Session Queries should update session flow data" time="0.128">
    </testcase>
  </testsuite>
  <testsuite name="Palmistry Reader Service" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:14:02" time="2.375" tests="3">
    <testcase classname="Palmistry Reader Service generatePalmistryReading should generate a palmistry reading" name="Palmistry Reader Service generatePalmistryReading should generate a palmistry reading" time="0.004">
    </testcase>
    <testcase classname="Palmistry Reader Service generatePalmistryReading should generate sample reading when no user provided" name="Palmistry Reader Service generatePalmistryReading should generate sample reading when no user provided" time="0.001">
    </testcase>
    <testcase classname="Palmistry Reader Service generatePalmistryReading should handle user with hand data" name="Palmistry Reader Service generatePalmistryReading should handle user with hand data" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="InputValidator" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:14:04" time="3.418" tests="5">
    <testcase classname="InputValidator validateEmail should validate valid email" name="InputValidator validateEmail should validate valid email" time="0.003">
    </testcase>
    <testcase classname="InputValidator validateEmail should reject invalid email" name="InputValidator validateEmail should reject invalid email" time="0.002">
    </testcase>
    <testcase classname="InputValidator validatePhoneNumber should validate valid phone number" name="InputValidator validatePhoneNumber should validate valid phone number" time="0.001">
    </testcase>
    <testcase classname="InputValidator validatePhoneNumber should reject invalid phone number" name="InputValidator validatePhoneNumber should reject invalid phone number" time="0.001">
    </testcase>
    <testcase classname="InputValidator sanitizeInput should sanitize input" name="InputValidator sanitizeInput should sanitize input" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="WhatsApp Message Sender" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:14:07" time="2.385" tests="19">
    <testcase classname="WhatsApp Message Sender sendTextMessage should send text message successfully" name="WhatsApp Message Sender sendTextMessage should send text message successfully" time="0.005">
    </testcase>
    <testcase classname="WhatsApp Message Sender sendTextMessage should send text message with preview URL" name="WhatsApp Message Sender sendTextMessage should send text message with preview URL" time="0.002">
    </testcase>
    <testcase classname="WhatsApp Message Sender sendTextMessage should send text message with context" name="WhatsApp Message Sender sendTextMessage should send text message with context" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Message Sender sendTextMessage should throw error when WhatsApp API credentials are not configured" name="WhatsApp Message Sender sendTextMessage should throw error when WhatsApp API credentials are not configured" time="0.04">
    </testcase>
    <testcase classname="WhatsApp Message Sender sendTextMessage should handle API error gracefully" name="WhatsApp Message Sender sendTextMessage should handle API error gracefully" time="0.004">
    </testcase>
    <testcase classname="WhatsApp Message Sender sendTextMessage should handle network error gracefully" name="WhatsApp Message Sender sendTextMessage should handle network error gracefully" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Message Sender sendInteractiveButtons should send interactive buttons message successfully" name="WhatsApp Message Sender sendInteractiveButtons should send interactive buttons message successfully" time="0.004">
    </testcase>
    <testcase classname="WhatsApp Message Sender sendInteractiveButtons should send interactive buttons with header and footer" name="WhatsApp Message Sender sendInteractiveButtons should send interactive buttons with header and footer" time="0.002">
    </testcase>
    <testcase classname="WhatsApp Message Sender sendInteractiveButtons should handle missing WhatsApp API credentials" name="WhatsApp Message Sender sendInteractiveButtons should handle missing WhatsApp API credentials" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Message Sender sendListMessage should send list message successfully" name="WhatsApp Message Sender sendListMessage should send list message successfully" time="0.007">
    </testcase>
    <testcase classname="WhatsApp Message Sender sendListMessage should send list message with footer" name="WhatsApp Message Sender sendListMessage should send list message with footer" time="0.004">
    </testcase>
    <testcase classname="WhatsApp Message Sender sendListMessage should handle list messages with invalid action keys in rows (would cause API error)" name="WhatsApp Message Sender sendListMessage should handle list messages with invalid action keys in rows (would cause API error)" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Message Sender sendListMessage should accept valid list messages without action keys in rows" name="WhatsApp Message Sender sendListMessage should accept valid list messages without action keys in rows" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Message Sender sendTemplateMessage should send template message successfully" name="WhatsApp Message Sender sendTemplateMessage should send template message successfully" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Message Sender sendTemplateMessage should send template message with components" name="WhatsApp Message Sender sendTemplateMessage should send template message with components" time="0.002">
    </testcase>
    <testcase classname="WhatsApp Message Sender sendMediaMessage should send media message successfully" name="WhatsApp Message Sender sendMediaMessage should send media message successfully" time="0.004">
    </testcase>
    <testcase classname="WhatsApp Message Sender sendMediaMessage should send media message with filename" name="WhatsApp Message Sender sendMediaMessage should send media message with filename" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Message Sender markMessageAsRead should mark message as read successfully" name="WhatsApp Message Sender markMessageAsRead should mark message as read successfully" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Message Sender markMessageAsRead should handle missing WhatsApp API credentials" name="WhatsApp Message Sender markMessageAsRead should handle missing WhatsApp API credentials" time="0.003">
    </testcase>
  </testsuite>
  <testsuite name="ErrorHandler" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:14:10" time="3.426" tests="4">
    <testcase classname="ErrorHandler handleError should handle error and log it" name="ErrorHandler handleError should handle error and log it" time="0.003">
    </testcase>
    <testcase classname="ErrorHandler handleError should handle error without context" name="ErrorHandler handleError should handle error without context" time="0.002">
    </testcase>
    <testcase classname="ErrorHandler handleValidationError should handle validation error" name="ErrorHandler handleValidationError should handle validation error" time="0.007">
    </testcase>
    <testcase classname="ErrorHandler handleDatabaseError should handle database error" name="ErrorHandler handleDatabaseError should handle database error" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="Nadi Reader Service" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:14:13" time="2.36" tests="4">
    <testcase classname="Nadi Reader Service generateNadiReading should generate a Nadi astrology reading" name="Nadi Reader Service generateNadiReading should generate a Nadi astrology reading" time="0.004">
    </testcase>
    <testcase classname="Nadi Reader Service generateNadiReading should handle missing birth date" name="Nadi Reader Service generateNadiReading should handle missing birth date" time="0.002">
    </testcase>
    <testcase classname="Nadi Reader Service generateNadiReading should provide Dasa period calculations" name="Nadi Reader Service generateNadiReading should provide Dasa period calculations" time="0.002">
    </testcase>
    <testcase classname="Nadi Reader Service generateNadiReading should include traditional Nadi remedies" name="Nadi Reader Service generateNadiReading should include traditional Nadi remedies" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="VedicCalculator" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:14:16" time="3.176" tests="9">
    <testcase classname="VedicCalculator calculateBirthChart should calculate birth chart for valid birth data" name="VedicCalculator calculateBirthChart should calculate birth chart for valid birth data" time="0.003">
    </testcase>
    <testcase classname="VedicCalculator calculateBirthChart should handle invalid birth data gracefully" name="VedicCalculator calculateBirthChart should handle invalid birth data gracefully" time="0.02">
    </testcase>
    <testcase classname="VedicCalculator generateHoroscope should generate horoscope for valid chart" name="VedicCalculator generateHoroscope should generate horoscope for valid chart" time="0.002">
    </testcase>
    <testcase classname="VedicCalculator generateTransitPreview should generate transit preview" name="VedicCalculator generateTransitPreview should generate transit preview" time="0.003">
    </testcase>
    <testcase classname="VedicCalculator checkCompatibility should check compatibility between two charts" name="VedicCalculator checkCompatibility should check compatibility between two charts" time="0.004">
    </testcase>
    <testcase classname="VedicCalculator calculateSecondaryProgressions should calculate secondary progressions for valid birth data" name="VedicCalculator calculateSecondaryProgressions should calculate secondary progressions for valid birth data" time="0.003">
    </testcase>
    <testcase classname="VedicCalculator calculateSecondaryProgressions should handle invalid birth data gracefully" name="VedicCalculator calculateSecondaryProgressions should handle invalid birth data gracefully" time="0.002">
    </testcase>
    <testcase classname="VedicCalculator calculateSolarArcDirections should calculate solar arc directions for valid birth data" name="VedicCalculator calculateSolarArcDirections should calculate solar arc directions for valid birth data" time="0.004">
    </testcase>
    <testcase classname="VedicCalculator calculateSolarArcDirections should handle invalid birth data gracefully" name="VedicCalculator calculateSolarArcDirections should handle invalid birth data gracefully" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="WhatsApp Service" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:14:19" time="2.361" tests="7">
    <testcase classname="WhatsApp Service handleWhatsAppWebhook should return 400 for invalid webhook payload" name="WhatsApp Service handleWhatsAppWebhook should return 400 for invalid webhook payload" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Service handleWhatsAppWebhook should return 200 for valid webhook payload with no entries" name="WhatsApp Service handleWhatsAppWebhook should return 200 for valid webhook payload with no entries" time="0.002">
    </testcase>
    <testcase classname="WhatsApp Service handleWhatsAppWebhook should process valid webhook with messages" name="WhatsApp Service handleWhatsAppWebhook should process valid webhook with messages" time="0.001">
    </testcase>
    <testcase classname="WhatsApp Service handleWhatsAppWebhook should handle interactive button reply messages" name="WhatsApp Service handleWhatsAppWebhook should handle interactive button reply messages" time="0.002">
    </testcase>
    <testcase classname="WhatsApp Service handleWhatsAppWebhook should handle webhook with status updates" name="WhatsApp Service handleWhatsAppWebhook should handle webhook with status updates" time="0.001">
    </testcase>
    <testcase classname="WhatsApp Service handleWhatsAppWebhook should handle error during webhook processing" name="WhatsApp Service handleWhatsAppWebhook should handle error during webhook processing" time="0.001">
    </testcase>
    <testcase classname="WhatsApp Service processIncomingMessage should process incoming messages correctly" name="WhatsApp Service processIncomingMessage should process incoming messages correctly" time="0.003">
    </testcase>
  </testsuite>
  <testsuite name="Tarot Reader Service" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:14:21" time="3.292" tests="5">
    <testcase classname="Tarot Reader Service generateTarotReading should generate a single card reading" name="Tarot Reader Service generateTarotReading should generate a single card reading" time="0.003">
    </testcase>
    <testcase classname="Tarot Reader Service generateTarotReading should generate a three-card spread reading" name="Tarot Reader Service generateTarotReading should generate a three-card spread reading" time="0.002">
    </testcase>
    <testcase classname="Tarot Reader Service generateTarotReading should generate a Celtic cross spread reading" name="Tarot Reader Service generateTarotReading should generate a Celtic cross spread reading" time="0.002">
    </testcase>
    <testcase classname="Tarot Reader Service generateTarotReading should handle invalid spread type" name="Tarot Reader Service generateTarotReading should handle invalid spread type" time="0.002">
    </testcase>
    <testcase classname="Tarot Reader Service generateTarotReading should handle user personalization" name="Tarot Reader Service generateTarotReading should handle user personalization" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="TranslationService" errors="0" failures="0" skipped="0" timestamp="2025-10-28T17:14:24" time="2.377" tests="30">
    <testcase classname="TranslationService Initialization should initialize with supported languages" name="TranslationService Initialization should initialize with supported languages" time="0.003">
    </testcase>
    <testcase classname="TranslationService Initialization should have correct language metadata" name="TranslationService Initialization should have correct language metadata" time="0.002">
    </testcase>
    <testcase classname="TranslationService getSupportedLanguages should return all supported languages" name="TranslationService getSupportedLanguages should return all supported languages" time="0.003">
    </testcase>
    <testcase classname="TranslationService detectLanguage should detect language from Indian phone numbers" name="TranslationService detectLanguage should detect language from Indian phone numbers" time="0.002">
    </testcase>
    <testcase classname="TranslationService detectLanguage should detect language from UAE phone numbers" name="TranslationService detectLanguage should detect language from UAE phone numbers" time="0.003">
    </testcase>
    <testcase classname="TranslationService detectLanguage should detect language from Saudi phone numbers" name="TranslationService detectLanguage should detect language from Saudi phone numbers" time="0.004">
    </testcase>
    <testcase classname="TranslationService detectLanguage should detect language from UK phone numbers" name="TranslationService detectLanguage should detect language from UK phone numbers" time="0.003">
    </testcase>
    <testcase classname="TranslationService detectLanguage should return default language for unknown numbers" name="TranslationService detectLanguage should return default language for unknown numbers" time="0.002">
    </testcase>
    <testcase classname="TranslationService detectLanguage should respect explicit language parameter" name="TranslationService detectLanguage should respect explicit language parameter" time="0.003">
    </testcase>
    <testcase classname="TranslationService detectLanguage should handle invalid phone numbers gracefully" name="TranslationService detectLanguage should handle invalid phone numbers gracefully" time="0.002">
    </testcase>
    <testcase classname="TranslationService loadResourceBundle should load and cache resource bundle successfully" name="TranslationService loadResourceBundle should load and cache resource bundle successfully" time="0.003">
    </testcase>
    <testcase classname="TranslationService loadResourceBundle should return cached bundle if available and not expired" name="TranslationService loadResourceBundle should return cached bundle if available and not expired" time="0.002">
    </testcase>
    <testcase classname="TranslationService loadResourceBundle should reload bundle if cache is expired" name="TranslationService loadResourceBundle should reload bundle if cache is expired" time="0.002">
    </testcase>
    <testcase classname="TranslationService loadResourceBundle should handle file read errors gracefully" name="TranslationService loadResourceBundle should handle file read errors gracefully" time="0.002">
    </testcase>
    <testcase classname="TranslationService loadResourceBundle should handle invalid JSON gracefully" name="TranslationService loadResourceBundle should handle invalid JSON gracefully" time="0.001">
    </testcase>
    <testcase classname="TranslationService translate should translate simple keys successfully" name="TranslationService translate should translate simple keys successfully" time="0.002">
    </testcase>
    <testcase classname="TranslationService translate should handle parameter interpolation" name="TranslationService translate should handle parameter interpolation" time="0.002">
    </testcase>
    <testcase classname="TranslationService translate should handle multiple parameters" name="TranslationService translate should handle multiple parameters" time="0.002">
    </testcase>
    <testcase classname="TranslationService translate should fallback to English for missing translations" name="TranslationService translate should fallback to English for missing translations" time="0.002">
    </testcase>
    <testcase classname="TranslationService translate should return key if translation not found in any language" name="TranslationService translate should return key if translation not found in any language" time="0.002">
    </testcase>
    <testcase classname="TranslationService translate should handle nested key access" name="TranslationService translate should handle nested key access" time="0.001">
    </testcase>
    <testcase classname="TranslationService translate should cache translations for performance" name="TranslationService translate should cache translations for performance" time="0.002">
    </testcase>
    <testcase classname="TranslationService translateMultiple should translate multiple keys at once" name="TranslationService translateMultiple should translate multiple keys at once" time="0.002">
    </testcase>
    <testcase classname="TranslationService hasTranslation should check if translation exists" name="TranslationService hasTranslation should check if translation exists" time="0.003">
    </testcase>
    <testcase classname="TranslationService getAvailableKeys should return all available translation keys" name="TranslationService getAvailableKeys should return all available translation keys" time="0.003">
    </testcase>
    <testcase classname="TranslationService reloadBundles should clear cache and reload bundles" name="TranslationService reloadBundles should clear cache and reload bundles" time="0.002">
    </testcase>
    <testcase classname="TranslationService Error handling should handle malformed parameters gracefully" name="TranslationService Error handling should handle malformed parameters gracefully" time="0.002">
    </testcase>
    <testcase classname="TranslationService Error handling should handle missing parameters gracefully" name="TranslationService Error handling should handle missing parameters gracefully" time="0.002">
    </testcase>
    <testcase classname="TranslationService Performance and caching should cache bundles to improve performance" name="TranslationService Performance and caching should cache bundles to improve performance" time="0.001">
    </testcase>
    <testcase classname="TranslationService Performance and caching should expire cache after configured time" name="TranslationService Performance and caching should expire cache after configured time" time="0.002">
    </testcase>
  </testsuite>
</testsuites>